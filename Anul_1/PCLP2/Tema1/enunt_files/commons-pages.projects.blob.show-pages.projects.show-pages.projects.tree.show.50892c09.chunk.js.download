(this.webpackJsonp=this.webpackJsonp||[]).push([[214,351,375,1419],{"++ts":function(e,t,n){"use strict";var i=n("2ibD"),r=n("3twG"),a=n("8Igx"),o=n("jlnU"),s=n("/lV4"),l={components:{CommitChangesModal:n("O4EH").a},props:{deletePath:{type:String,required:!0}},data:()=>({loading:!1}),methods:{show(){this.$refs.modal.show()},handleBlobDelete(e){var t=this;return this.loading=!0,Object(i.a)({method:"post",url:this.deletePath,data:e}).then((function(e){Object(r.T)(e.data.filePath)})).catch((function(e){Object(a.a)("Failed to delete file. See exception details for more information.",e),Object(o.createAlert)({message:Object(s.__)("Failed to delete file! Please try again."),error:e})})).finally((function(){t.loading=!1}))}}},d=n("tBpV"),c=Object(d.a)(l,(function(){var e=this._self._c;return e("commit-changes-modal",this._g(this._b({ref:"modal",attrs:{loading:this.loading},on:{"submit-form":this.handleBlobDelete},scopedSlots:this._u([{key:"form-fields",fn:function(){return[e("input",{attrs:{type:"hidden",name:"_method",value:"delete"}})]},proxy:!0}])},"commit-changes-modal",this.$attrs,!1),this.$listeners))}),[],!1,null,null,null);t.a=c.exports},"+MIs":function(e,t,n){"use strict";var i,r=n("yi8e"),a=n("J7NB"),o=n("4lAS"),s=n("pbPB"),l=n("sF+2"),d=n("MV2A"),c=n("Lzak"),u=n("b49+"),h={props:{language:{type:String,required:!0},tokens:{type:Array,required:!0}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"line",attrs:{lang:e.language}},[e._l(e.tokens,(function(n,i){return t("span",{key:i,class:n.class},[e._v(e._s(n.value))])})),e._v(" "),t("br")],2)}),[],!1,null,null,null).exports,f={components:{GlButton:o.a,GlTabs:s.a,GlTab:l.a,GlLink:d.a,GlBadge:c.a,DocLine:m,Markdown:u.a},props:{position:{type:Object,required:!0},data:{type:Object,required:!0},definitionPathPrefix:{type:String,required:!0},blobPath:{type:String,required:!0}},data:()=>({offsetLeft:0}),computed:{isCurrentDefinition(){return this.data.definitionLineNumber-1===this.position.lineIndex},positionStyles(){return{left:this.position.x-this.offsetLeft+"px",top:this.position.y+this.position.height+"px"}},definitionPath(){return this.data.definition_path?this.isDefinitionCurrentBlob?"#L"+this.data.definitionLineNumber:`${this.definitionPathPrefix}/${this.data.definition_path}`:null},isDefinitionCurrentBlob(){return 0===this.data.definition_path.indexOf(this.blobPath)},references(){return this.data.references||[]}},watch:{position:{handler(){var e=this;this.$nextTick((function(){return e.updateOffsetLeft()}))},deep:!0,immediate:!0}},methods:{updateOffsetLeft(){this.offsetLeft=Math.max(0,this.$el.offsetLeft+this.$el.offsetWidth-window.innerWidth+20)}},colorScheme:null===(i=gon)||void 0===i?void 0:i.user_color_scheme},g={components:{Popover:Object(p.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"popover code-navigation-popover popover-font-size-normal gl-popover bs-popover-bottom show",style:e.positionStyles},[t("div",{staticClass:"arrow",style:{left:e.offsetLeft+"px"}}),e._v(" "),t("gl-tabs",{attrs:{"content-class":"gl-py-0"}},[t("gl-tab",{attrs:{title:e.__("Definition")}},[t("div",{staticClass:"overflow-auto code-navigation-popover-container"},e._l(e.data.hover,(function(n,i){return t("div",{key:i,class:{"border-bottom":i!==e.data.hover.length-1}},[n.language?t("pre",{ref:"code-output",refInFor:!0,staticClass:"border-0 bg-transparent m-0 code highlight text-wrap",class:e.$options.colorScheme},e._l(n.tokens,(function(e,i){return t("doc-line",{key:i,attrs:{language:n.language,tokens:e}})})),1):t("markdown",{ref:"doc-output",refInFor:!0,staticClass:"gl-p-3",attrs:{markdown:n.value}})],1)})),0),e._v(" "),e.definitionPath||e.isCurrentDefinition?t("div",{staticClass:"popover-body border-top"},[e.isCurrentDefinition?t("span",{staticClass:"gl-text-base gl-font-bold"},[e._v("\n          "+e._s(e.s__("CodeIntelligence|This is the definition"))+"\n        ")]):t("gl-button",{staticClass:"gl-w-full",attrs:{href:e.definitionPath,target:e.isDefinitionCurrentBlob?null:"_blank",variant:"default","data-testid":"go-to-definition-btn"}},[e._v("\n          "+e._s(e.__("Go to definition"))+"\n        ")])],1):e._e()]),e._v(" "),t("gl-tab",{staticClass:"py-2",attrs:{"data-testid":"references-tab"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.__("References"))+"\n        "),t("gl-badge",{staticClass:"gl-tab-counter-badge"},[e._v(e._s(e.references.length))])]},proxy:!0}])},[e._v(" "),e.references.length?e._l(e.references,(function(n,i){return t("div",{key:i,staticClass:"gl-dropdown-item"},[t("gl-link",{staticClass:"dropdown-item",attrs:{href:`${e.definitionPathPrefix}/${n.path}`,"data-testid":"reference-link"}},[e._v("\n            "+e._s(n.path)+"\n          ")])],1)})):t("p",{staticClass:"gl-my-4 gl-px-4"},[e._v("\n        "+e._s(e.s__("CodeNavigation|No references found"))+"\n      ")])],2)],1)],1)}),[],!1,null,null,null).exports},props:{codeNavigationPath:{type:String,required:!1,default:null},blobPath:{type:String,required:!1,default:null},pathPrefix:{type:String,required:!1,default:null},wrapTextNodes:{type:Boolean,required:!1,default:!1}},computed:{...Object(r.f)(["currentDefinition","currentDefinitionPosition","currentBlobPath","definitionPathPrefix","data"])},mounted(){if(this.codeNavigationPath&&this.blobPath&&this.pathPrefix){const e={blobs:[{path:this.blobPath,codeNavigationPath:this.codeNavigationPath}],definitionPathPrefix:this.pathPrefix,wrapTextNodes:this.wrapTextNodes};this.setInitialData(e)}this.body=document.body,a.a.$on("showBlobInteractionZones",this.showCodeNavigation),this.addGlobalEventListeners(),this.fetchData()},beforeDestroy(){a.a.$off("showBlobInteractionZones",this.showCodeNavigation),this.removeGlobalEventListeners()},methods:{...Object(r.c)(["fetchData","showDefinition","showBlobInteractionZones","setInitialData"]),showCodeNavigation(e){var t,n=this;if(null!==(t=this.data)&&void 0!==t&&t[e])this.showBlobInteractionZones(e);else{const t=this.$watch("data",(function(){t(),n.showBlobInteractionZones(e)}))}},addGlobalEventListeners(){this.body&&this.body.addEventListener("click",this.showDefinition)},removeGlobalEventListeners(){this.body&&this.body.removeEventListener("click",this.showDefinition)}}},b=Object(p.a)(g,(function(){var e=this._self._c;return this.currentDefinition?e("popover",{attrs:{position:this.currentDefinitionPosition,data:this.currentDefinition,"definition-path-prefix":this.definitionPathPrefix,"blob-path":this.currentBlobPath}}):this._e()}),[],!1,null,null,null);t.a=b.exports},"+TTV":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n/* Temporary override until we have\n   * widths available in GlDisclosureDropdown\n   * https://gitlab.com/gitlab-org/gitlab-ui/-/issues/2501\n   */\n.code-dropdown .gl-new-dropdown-panel {\n  width: 100%;\n  max-width: 348px;\n}\n",""])},"0Zrb":function(e,t,n){var i=n("mqRG"),r=n("uLMv"),a=n("5wxO");e.exports=function(e){return r(e)?a(e):i(e)}},"0a87":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return g}));var i=n("GuZl"),r=n("/lV4");const a="REF_TYPE_BRANCHES",o="REF_TYPE_TAGS",s="REF_TYPE_COMMITS",l=Object.freeze([a,o,s]),d="heads",c="tags",u="tag",h="branch",p="ref_type",m="x-total",f=i.h,g=Object.freeze({defaultLabelText:Object(r.__)("default"),dropdownHeader:Object(r.__)("Select Git revision"),searchPlaceholder:Object(r.__)("Search by Git revision"),noResultsWithQuery:Object(r.__)('No matching results for "%{query}"'),noResults:Object(r.__)("No matching results"),branchesErrorMessage:Object(r.__)("An error occurred while fetching branches. Retry the search."),tagsErrorMessage:Object(r.__)("An error occurred while fetching tags. Retry the search."),commitsErrorMessage:Object(r.__)("An error occurred while fetching commits. Retry the search."),branches:Object(r.__)("Branches"),tags:Object(r.__)("Tags"),commits:Object(r.__)("Commits"),noRefSelected:Object(r.__)("No ref selected"),totalCountLabel:Object(r.s__)("TotalRefCountIndicator|1000+")})},"0ch9":function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return r})),n.d(t,"z",(function(){return a})),n.d(t,"y",(function(){return o})),n.d(t,"x",(function(){return s})),n.d(t,"A",(function(){return l})),n.d(t,"B",(function(){return d})),n.d(t,"K",(function(){return c})),n.d(t,"L",(function(){return u})),n.d(t,"N",(function(){return h})),n.d(t,"M",(function(){return p})),n.d(t,"D",(function(){return m})),n.d(t,"C",(function(){return f})),n.d(t,"H",(function(){return g})),n.d(t,"G",(function(){return b})),n.d(t,"F",(function(){return v})),n.d(t,"E",(function(){return k})),n.d(t,"J",(function(){return y})),n.d(t,"I",(function(){return w})),n.d(t,"T",(function(){return _})),n.d(t,"S",(function(){return S})),n.d(t,"P",(function(){return P})),n.d(t,"R",(function(){return j})),n.d(t,"O",(function(){return N})),n.d(t,"U",(function(){return E})),n.d(t,"Q",(function(){return T})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return C})),n.d(t,"h",(function(){return F})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return R})),n.d(t,"o",(function(){return L})),n.d(t,"n",(function(){return D})),n.d(t,"p",(function(){return A})),n.d(t,"r",(function(){return M})),n.d(t,"q",(function(){return q})),n.d(t,"m",(function(){return U})),n.d(t,"u",(function(){return V})),n.d(t,"v",(function(){return $})),n.d(t,"t",(function(){return G})),n.d(t,"s",(function(){return H})),n.d(t,"w",(function(){return z})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return Q})),n.d(t,"a",(function(){return K}));const i="mark",r="measure",a="snippet-view-app-start",o="snippet-edit-app-start",s="snippet-blobs-content-finished",l="snippet-blobs-content",d="webide-app-start",c="webide-file-clicked",u="webide-file-finished",h="webide-init-editor-start",p="webide-init-editor-finish",m="webide-getBranchData-start",f="webide-getBranchData-finish",g="webide-getFileData-start",b="webide-getFileData-finish",v="webide-getFiles-start",k="webide-getFiles-finish",y="webide-getProjectData-start",w="webide-getProjectData-finish",_="webide-file-loading-after-interaction",S="WebIDE: Project data",P="WebIDE: Branch data",j="WebIDE: File data",N="WebIDE: Before Vue app",E="WebIDE: Repo Editor",T="WebIDE: Fetch Files",O="mr-diffs-mark-file-tree-start",B="mr-diffs-mark-file-tree-end",C="mr-diffs-mark-diff-files-start",F="mr-diffs-mark-first-diff-file-shown",x="mr-diffs-mark-diff-files-end",I="mr-diffs-measure-file-tree-done",R="mr-diffs-measure-diff-files-done",L="pipelines-detail-links-mark-calculate-start",D="pipelines-detail-links-mark-calculate-end",A="Pipelines Detail Graph: Links Calculation",M="pipeline_graph_link_calculation_duration_seconds",q="pipeline_graph_links_total",U="pipeline_graph_links_per_job_ratio",V="blobviewer-load-viewer-start",$="blobviewer-switch-to-viewerr-start",G="blobviewer-load-viewer-finish",H="Repository File Viewer: loading the viewer",z="Repository File Viewer: switching the viewer",W="design-app-start",Q="Design Management: Before the Vue app",K="Design Management: Single image preview"},"0hIY":function(e,t,n){"use strict";n("ZzK0"),n("z6RN"),n("BzOf"),n("v2fZ");var i=n("NmEs");const r=function(e={}){e.highlightLineClass=e.highlightLineClass||"hll",e.fileHolderSelector=e.fileHolderSelector||".file-holder",e.scrollFileHolder=e.scrollFileHolder||!1,e.hash=e.hash||window.location.hash,e.scrollBehavior=e.scrollBehavior||"smooth",this.options=e,this._hash=e.hash,this.highlightLineClass=e.highlightLineClass,this.setHash=this.setHash.bind(this),this.highlightLine=this.highlightLine.bind(this),this.clickHandler=this.clickHandler.bind(this),this.highlightHash=this.highlightHash.bind(this),this.bindEvents(),this.highlightHash()};r.prototype.bindEvents=function(){var e=this;const t=document.querySelector(this.options.fileHolderSelector);t&&(t.addEventListener("click",this.clickHandler),t.addEventListener("highlight:line",this.highlightHash),window.addEventListener("hashchange",(function(t){return e.highlightHash(t.target.location.hash)})))},r.prototype.highlightHash=function(e,t=!0){let n;if(e&&"string"==typeof e&&(this._hash=e),this.clearHighlight(),""!==this._hash&&(n=this.hashToRange(this._hash),n[0])){this.highlightRange(n);const e="#L"+n[0];t&&Object(i.R)(e,{offset:-100,behavior:this.options.scrollBehavior})}},r.prototype.clickHandler=function(e){if(e.target.matches("a[data-line-number]")){let t;e.preventDefault(),this.clearHighlight();const n=parseInt(e.target.dataset.lineNumber,10),i=this.hashToRange(this._hash);if(!i[0]||!e.shiftKey)return this.setHash(n),this.highlightLine(n);if(e.shiftKey)return t=n<i[0]?[n,i[0]]:[i[0],n],this.setHash(t[0],t[1]),this.highlightRange(t)}},r.prototype.clearHighlight=function(){const e=document.getElementsByClassName(this.highlightLineClass);Array.from(e).forEach((function(e){e.classList.remove(this.highlightLineClass)}),this)},r.prototype.hashToRange=function(e){const t=e.match(/^#?L(\d+)(?:-L?(\d+))?$/);if(t&&t.length){return[parseInt(t[1],10),t[2]?parseInt(t[2],10):null]}return[null,null]},r.prototype.highlightLine=function(e){const t=document.getElementById("LC"+e);t&&t.classList.add(this.highlightLineClass)},r.prototype.highlightRange=function(e){if(e[1]){const t=[],n=e[0]<=e[1]?e:e.reverse();for(let i=e[0];i<=n[1];i+=1)t.push(this.highlightLine(i));return t}return this.highlightLine(e[0])},r.prototype.setHash=function(e,t){let n;return n=t?`#L${e}-${t}`:"#L"+e,this._hash=n,this.__setLocationHash__(n)},r.prototype.__setLocationHash__=function(e){return window.history.pushState({url:e},document.title,e)},t.a=r},"20aQ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBlobControls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"refType"}},type:{kind:"NamedType",name:{kind:"Name",value:"RefType"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkProject"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"empty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"filePath"}}]}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}},{kind:"Argument",name:{kind:"Name",value:"refType"},value:{kind:"Variable",name:{kind:"Name",value:"refType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blamePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permalinkPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storedExternally"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalStorage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environmentFormattedExternalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environmentExternalUrlForRouteMap"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawTextBlob"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"replacePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canCurrentUserPushToBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canModifyBlob"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canModifyBlobWithWebIde"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkAndViewPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editBlobPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ideEditPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pipelineEditorPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gitpodBlobUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"simpleViewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooLarge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderError"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"richViewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooLarge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderError"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1303}};n.loc.source={body:"query getBlobControls($projectPath: ID!, $filePath: String!, $ref: String!, $refType: RefType) {\n  project(fullPath: $projectPath) {\n    __typename\n    id\n    userPermissions {\n      __typename\n      pushCode\n      downloadCode\n      createMergeRequestIn\n      forkProject\n    }\n    repository {\n      __typename\n      empty\n      blobs(paths: [$filePath], ref: $ref, refType: $refType) {\n        __typename\n        nodes {\n          __typename\n          id\n          name\n          blamePath\n          permalinkPath\n          storedExternally\n          externalStorage\n          environmentFormattedExternalUrl\n          environmentExternalUrlForRouteMap\n          path\n          rawPath\n          rawTextBlob\n          archived\n          replacePath\n          webPath\n          canCurrentUserPushToBranch\n          canModifyBlob\n          canModifyBlobWithWebIde\n          forkAndViewPath\n          editBlobPath\n          ideEditPath\n          pipelineEditorPath\n          gitpodBlobUrl\n          simpleViewer {\n            __typename\n            fileType\n            tooLarge\n            type\n            renderError\n          }\n          richViewer {\n            __typename\n            fileType\n            tooLarge\n            type\n            renderError\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getBlobControls=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getBlobControls")},"2o4f":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("lFMf"),n("gOHk"),n("c9hT");var i=n("3twG");function r(e,t,n){const r=new URL(window.location.href),a=r.pathname;let o,s=null,l="/-/tree",d=n;const c=n.match(/^refs\/(heads|tags)\/(.+)/);c&&([,s,d]=c),s?r.searchParams.set("ref_type",s.toLowerCase()):r.searchParams.delete("ref_type");const u=function(e){return new RegExp(`(/-/(blob|tree))/${e}/(.*)`)}(t).exec(a);return u&&([,l,,o]=u),r.pathname=Object(i.A)(e,l,encodeURI(d).replace(/#/g,"%23"),o),r.toString()}},"4Lh3":function(e,t,n){"use strict";n("3UXl"),n("iyoE");var i=n("Bo17"),r=n("fSQg"),a=n("lHJB"),o=n("/lV4"),s={components:{GlDisclosureDropdown:i.a,GlDisclosureDropdownGroup:r.a},directives:{GlTooltip:a.a},props:{downloadLinks:{type:Array,required:!0},downloadArtifacts:{type:Array,required:!0},cssClass:{type:String,required:!1,default:""}},computed:{hasDownloadLinks(){return this.downloadLinks.length},hasDownloadArtifacts(){return this.downloadArtifacts.length},showDownloadArtifactsBorder(){return this.hasDownloadLinks>0},sourceCodeGroup(){const e=this.downloadLinks.map((function(e){return{text:e.text,href:e.path,extraAttrs:{rel:"nofollow",download:""}}}));return{name:this.$options.i18n.downloadSourceCode,items:e}},artifactsGroup(){const e=this.downloadArtifacts.map((function(e){return{text:e.text,href:e.path,extraAttrs:{rel:"nofollow",download:""}}}));return{name:this.$options.i18n.downloadArtifacts,items:e}}},methods:{closeDropdown(){this.$refs.dropdown.close()}},i18n:{defaultLabel:Object(o.__)("Download"),downloadSourceCode:Object(o.__)("Download source code"),downloadArtifacts:Object(o.__)("Download artifacts")}},l=n("tBpV"),d=Object(l.a)(s,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"dropdown",class:e.cssClass,attrs:{"toggle-text":e.$options.i18n.defaultLabel,title:e.$options.i18n.defaultLabel,category:"secondary",placement:"bottom-end",icon:"download","text-sr-only":"","fluid-width":"","data-testid":"download-source-code-button","auto-close":!1}},[e.hasDownloadLinks?t("gl-disclosure-dropdown-group",{attrs:{group:e.sourceCodeGroup,"data-testid":"source-code-group"},on:{action:e.closeDropdown}}):e._e(),e._v(" "),e.hasDownloadArtifacts?t("gl-disclosure-dropdown-group",{attrs:{group:e.artifactsGroup,bordered:e.showDownloadArtifactsBorder,"data-testid":"artifacts-group"},on:{action:e.closeDropdown}}):e._e()],1)}),[],!1,null,null,null);t.a=d.exports},"5wtN":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PageInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PageInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}],loc:{start:0,end:92}};n.loc.source={body:"fragment PageInfo on PageInfo {\n  hasNextPage\n  hasPreviousPage\n  startCursor\n  endCursor\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PageInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PageInfo")},"5wxO":function(e,t){var n="[\\ud800-\\udfff]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+r+")"+"?",d="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[a+i+"?",i,o,s,n].join("|")+")",u=RegExp(r+"(?="+r+")|"+c+d,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},"7XEj":function(e,t){function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t],r=typeof i;"object"!==r&&"function"!==r||Object.isFrozen(i)||n(i)}),e}class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const o=e=>!!e.scope;class s{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!o(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){o(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const l=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class d{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=l({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{d._collapse(e)}))}}class c extends d{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope="language:"+t),this.add(n)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(e){return e?"string"==typeof e?e:e.source:null}function h(e){return f("(?=",e,")")}function p(e){return f("(?:",e,")*")}function m(e){return f("(?:",e,")?")}function f(...e){return e.map(e=>u(e)).join("")}function g(...e){return"("+(function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e).capture?"":"?:")+e.map(e=>u(e)).join("|")+")"}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}const v=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function k(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let i=u(e),r="";for(;i.length>0;){const e=v.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const y="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w={begin:"\\\\[\\s\\S]",relevance:0},_={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[w]},S={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[w]},P=function(e,t,n={}){const i=a({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:f(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},j=P("//","$"),N=P("/\\*","\\*/"),E=P("#","$"),T={scope:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},O={scope:"number",begin:y,relevance:0},B={scope:"number",begin:"\\b(0b[01]+)",relevance:0},C={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[w,{begin:/\[/,end:/\]/,relevance:0,contains:[w]}]},F={scope:"title",begin:"[a-zA-Z]\\w*",relevance:0},x={scope:"title",begin:"[a-zA-Z_]\\w*",relevance:0},I={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var R=Object.freeze({__proto__:null,APOS_STRING_MODE:_,BACKSLASH_ESCAPE:w,BINARY_NUMBER_MODE:B,BINARY_NUMBER_RE:"\\b(0b[01]+)",COMMENT:P,C_BLOCK_COMMENT_MODE:N,C_LINE_COMMENT_MODE:j,C_NUMBER_MODE:O,C_NUMBER_RE:y,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:E,IDENT_RE:"[a-zA-Z]\\w*",MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:I,NUMBER_MODE:T,NUMBER_RE:"\\b\\d+(\\.\\d+)?",PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:S,REGEXP_MODE:C,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=f(t,/.*\b/,e.binary,/\b.*/)),a({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:F,UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",UNDERSCORE_TITLE_MODE:x});function L(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function D(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function A(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=L,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function M(e,t){Array.isArray(e.illegal)&&(e.illegal=g(...e.illegal))}function q(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function U(e,t){void 0===e.relevance&&(e.relevance=1)}const V=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=f(n.beforeMatch,h(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},$=["of","and","for","in","not","or","if","then","parent","list","value"];function G(e,t){return t?Number(t):function(e){return $.includes(e.toLowerCase())}(e)?0:1}const H={},z=e=>{console.error(e)},W=(e,...t)=>{console.log("WARN: "+e,...t)},Q=(e,t)=>{H[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),H[`${e}/${t}`]=!0)},K=new Error;function X(e,t,{key:n}){let i=0;const r=e[n],a={},o={};for(let e=1;e<=t.length;e++)o[e+i]=r[e],a[e+i]=!0,i+=b(t[e-1]);e[n]=o,e[n]._emit=a,e[n]._multi=!0}function Z(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw z("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),K;if("object"!=typeof e.beginScope||null===e.beginScope)throw z("beginScope must be object"),K;X(e,e.begin,{key:"beginScope"}),e.begin=k(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw z("skip, excludeEnd, returnEnd not compatible with endScope: {}"),K;if("object"!=typeof e.endScope||null===e.endScope)throw z("endScope must be object"),K;X(e,e.end,{key:"endScope"}),e.end=k(e.end,{joinWith:""})}}(e)}function Y(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(k(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=a(e.classNameAliases||{}),function n(r,o){const s=r;if(r.isCompiled)return s;[D,q,Z,V].forEach(e=>e(r,o)),e.compilerExtensions.forEach(e=>e(r,o)),r.__beforeBegin=null,[A,M,U].forEach(e=>e(r,o)),r.isCompiled=!0;let l=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),l=r.keywords.$pattern,delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=function e(t,n,i="keyword"){const r=Object.create(null);return"string"==typeof t?a(i,t.split(" ")):Array.isArray(t)?a(i,t):Object.keys(t).forEach((function(i){Object.assign(r,e(t[i],n,i))})),r;function a(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach((function(t){const n=t.split("|");r[n[0]]=[e,G(n[0],n[1])]}))}}(r.keywords,e.case_insensitive)),s.keywordPatternRe=t(l,!0),o&&(r.begin||(r.begin=/\B|\b/),s.beginRe=t(s.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(s.endRe=t(s.end)),s.terminatorEnd=u(s.end)||"",r.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(s.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return a(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return a(e,{starts:e.starts?a(e.starts):null});if(Object.isFrozen(e))return a(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){n(e,s)})),r.starts&&n(r.starts,o),s.matcher=function(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}class J extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ee=r,te=a,ne=Symbol("nomatch"),ie=function(e){const t=Object.create(null),r=Object.create(null),a=[];let o=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let d={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function u(e){return d.noHighlightRe.test(e)}function b(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(Q("10.7.0","highlight(lang, code, ...args) has been deprecated."),Q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const a={code:i,language:r};N("before:highlight",a);const o=a.result?a.result:v(a.language,a.code,n);return o.code=a.code,N("after:highlight",o),o}function v(e,n,r,a){const l=Object.create(null);function c(){if(!j.keywords)return void E.addText(T);let e=0;j.keywordPatternRe.lastIndex=0;let t=j.keywordPatternRe.exec(T),n="";for(;t;){n+=T.substring(e,t.index);const r=w.case_insensitive?t[0].toLowerCase():t[0],a=(i=r,j.keywords[i]);if(a){const[e,i]=a;if(E.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(O+=i),e.startsWith("_"))n+=t[0];else{const n=w.classNameAliases[e]||e;h(t[0],n)}}else n+=t[0];e=j.keywordPatternRe.lastIndex,t=j.keywordPatternRe.exec(T)}var i;n+=T.substring(e),E.addText(n)}function u(){null!=j.subLanguage?function(){if(""===T)return;let e=null;if("string"==typeof j.subLanguage){if(!t[j.subLanguage])return void E.addText(T);e=v(j.subLanguage,T,!0,N[j.subLanguage]),N[j.subLanguage]=e._top}else e=k(T,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(O+=e.relevance),E.__addSublanguage(e._emitter,e.language)}():c(),T=""}function h(e,t){""!==e&&(E.startScope(t),E.addText(e),E.endScope())}function p(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=w.classNameAliases[e[n]]||e[n],r=t[n];i?h(r,i):(T=r,c(),T=""),n++}}function m(e,t){return e.scope&&"string"==typeof e.scope&&E.openNode(w.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h(T,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),T=""):e.beginScope._multi&&(p(e.beginScope,t),T="")),j=Object.create(e,{parent:{value:j}}),j}function f(e){return 0===j.matcher.regexIndex?(T+=e[0],1):(F=!0,0)}function g(e){const t=e[0],r=n.substring(e.index),a=function e(t,n,r){let a=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(t.endRe,r);if(a){if(t["on:end"]){const e=new i(t);t["on:end"](n,e),e.isMatchIgnored&&(a=!1)}if(a){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,r)}(j,e,r);if(!a)return ne;const o=j;j.endScope&&j.endScope._wrap?(u(),h(t,j.endScope._wrap)):j.endScope&&j.endScope._multi?(u(),p(j.endScope,e)):o.skip?T+=t:(o.returnEnd||o.excludeEnd||(T+=t),u(),o.excludeEnd&&(T=t));do{j.scope&&E.closeNode(),j.skip||j.subLanguage||(O+=j.relevance),j=j.parent}while(j!==a.parent);return a.starts&&m(a.starts,e),o.returnEnd?0:t.length}let b={};function y(t,a){const s=a&&a[0];if(T+=t,null==s)return u(),0;if("begin"===b.type&&"end"===a.type&&b.index===a.index&&""===s){if(T+=n.slice(a.index,a.index+1),!o){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=a,"begin"===a.type)return function(e){const t=e[0],n=e.rule,r=new i(n),a=[n.__beforeBegin,n["on:begin"]];for(const n of a)if(n&&(n(e,r),r.isMatchIgnored))return f(t);return n.skip?T+=t:(n.excludeBegin&&(T+=t),u(),n.returnBegin||n.excludeBegin||(T=t)),m(n,e),n.returnBegin?0:t.length}(a);if("illegal"===a.type&&!r){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(j.scope||"<unnamed>")+'"');throw e.mode=j,e}if("end"===a.type){const e=g(a);if(e!==ne)return e}if("illegal"===a.type&&""===s)return T+="\n",1;if(C>1e5&&C>3*a.index){throw new Error("potential infinite loop, way more iterations than matches")}return T+=s,s.length}const w=S(e);if(!w)throw z(s.replace("{}",e)),new Error('Unknown language: "'+e+'"');const _=Y(w);let P="",j=a||_;const N={},E=new d.__emitter(d);!function(){const e=[];for(let t=j;t!==w;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>E.openNode(e))}();let T="",O=0,B=0,C=0,F=!1;try{if(w.__emitTokens)w.__emitTokens(n,E);else{for(j.matcher.considerAll();;){C++,F?F=!1:j.matcher.considerAll(),j.matcher.lastIndex=B;const e=j.matcher.exec(n);if(!e)break;const t=y(n.substring(B,e.index),e);B=e.index+t}y(n.substring(B))}return E.finalize(),P=E.toHTML(),{language:e,value:P,relevance:O,illegal:!1,_emitter:E,_top:j}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:ee(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:B,context:n.slice(B-100,B+100),mode:t.mode,resultSoFar:P},_emitter:E};if(o)return{language:e,value:ee(n),illegal:!1,relevance:0,errorRaised:t,_emitter:E,_top:j};throw t}}function k(e,n){n=n||d.languages||Object.keys(t);const i=function(e){const t={value:ee(e),illegal:!1,relevance:0,_top:l,_emitter:new d.__emitter(d)};return t._emitter.addText(e),t}(e),r=n.filter(S).filter(j).map(t=>v(t,e,!1));r.unshift(i);const a=r.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(S(e.language).supersetOf===t.language)return 1;if(S(t.language).supersetOf===e.language)return-1}return 0}),[o,s]=a,c=o;return c.secondBest=s,c}function y(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=d.languageDetectRe.exec(t);if(n){const t=S(n[1]);return t||(W(s.replace("{}",n[1])),W("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>u(e)||S(e))}(e);if(u(n))return;if(N("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(d.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),d.throwUnescapedHTML)){throw new J("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const i=t.textContent,a=n?b(i,{language:n,ignoreIllegals:!0}):k(i);e.innerHTML=a.value,e.dataset.highlighted="yes",function(e,t,n){const i=t&&r[t]||n;e.classList.add("hljs"),e.classList.add("language-"+i)}(e,n,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),N("after:highlightElement",{el:e,result:a,text:i})}let w=!1;function _(){if("loading"===document.readyState)return w||window.addEventListener("DOMContentLoaded",(function(){_()}),!1),void(w=!0);document.querySelectorAll(d.cssSelector).forEach(y)}function S(e){return e=(e||"").toLowerCase(),t[e]||t[r[e]]}function P(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{r[e.toLowerCase()]=t})}function j(e){const t=S(e);return t&&!t.disableAutodetect}function N(e,t){const n=e;a.forEach((function(e){e[n]&&e[n](t)}))}Object.assign(e,{highlight:b,highlightAuto:k,highlightAll:_,highlightElement:y,highlightBlock:function(e){return Q("10.7.0","highlightBlock will be removed entirely in v12.0"),Q("10.7.0","Please use highlightElement now."),y(e)},configure:function(e){d=te(d,e)},initHighlighting:()=>{_(),Q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){_(),Q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,i){let r=null;try{r=i(e)}catch(e){if(z("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw e;z(e),r=l}r.name||(r.name=n),t[n]=r,r.rawDefinition=i.bind(null,e),r.aliases&&P(r.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(r))r[t]===e&&delete r[t]},listLanguages:function(){return Object.keys(t)},getLanguage:S,registerAliases:P,autoDetection:j,inherit:te,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),a.push(e)},removePlugin:function(e){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="11.11.1",e.regex={concat:f,lookahead:h,either:g,optional:m,anyNumberOfTimes:p};for(const e in R)"object"==typeof R[e]&&n(R[e]);return Object.assign(e,R),e},re=ie({});re.newInstance=()=>ie({}),e.exports=re,re.HighlightJS=re,re.default=re},BXmR:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("TU2v"),r=n("Pyw5"),a=n.n(r);const o={name:"GlAnimatedUploadIcon",extends:i.a};const s=a()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:[this.iconStateClass,this.iconVariantClass],attrs:{"aria-label":this.ariaLabel,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"gl-animated-upload-base",attrs:{d:"M14.25 9.75V13C14.25 13.6904 13.6904 14.25 13 14.25L3 14.25C2.30964 14.25 1.75 13.6904 1.75 13L1.75 9.75",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("path",{staticClass:"gl-animated-upload-line",attrs:{d:"M8 11.25V2.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("path",{staticClass:"gl-animated-upload-arrow",attrs:{d:"M11.25 5.31066L8 2.06066L4.75 5.31066",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}})])},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0)},C5t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return c}));n("lFMf"),n("gOHk"),n("c9hT");var i,r=n("3twG"),a=n("jHQk");const o=null===(i=document.querySelector(".js-per-page"))||void 0===i||null===(i=i.dataset)||void 0===i?void 0:i.blamePerPage,s=function(e,t=o){if(!t)return"";const n=Math.ceil(parseInt(e,10)/parseInt(t,10));return n<=1?"":n},l=function(e,t){if(!t)return"";const n=new URL(e,Object(r.l)());return n.searchParams.set("page",t),n.search};function d(){const e=document.querySelector(".js-data-file-blob-permalink-url"),t=null==e?void 0:e.getAttribute("href");t&&Object(r.S)(t)&&(Object(r.Q)({url:t,title:document.title}),Object(r.R)({url:t})&&Object(a.b)(Object(r.r)({url:t})))}function c(){const e=document.querySelector(".js-data-file-blob-permalink-url");null==e||e.addEventListener("click",(function(e){var t;(t=e).ctrlKey||t.metaKey||t.shiftKey||(e.preventDefault(),d())}))}},CSd6:function(e,t,n){"use strict";var i=n("4lAS"),r=n("9dZE"),a=n("jlnU"),o=n("2ibD"),s=n("8Igx"),l=n("Y0p+"),d=n("SNRI"),c=n("3twG"),u=n("/lV4"),h=n("OR9K"),p=n("O4EH"),m={components:{GlButton:i.a,UploadDropzone:h.a,FileIcon:r.a,CommitChangesModal:p.a},i18n:{REMOVE_FILE_TEXT:Object(u.__)("Remove file"),ERROR_MESSAGE:Object(u.__)("Error uploading file. Please try again.")},props:{modalId:{type:String,required:!0},commitMessage:{type:String,required:!0},targetBranch:{type:String,required:!0},originalBranch:{type:String,required:!0},canPushCode:{type:Boolean,required:!0},canPushToBranch:{type:Boolean,required:!0},path:{type:String,required:!0},replacePath:{type:String,default:null,required:!1},emptyRepo:{type:Boolean,required:!1,default:!1}},data:()=>({file:null,filePreviewURL:null,loading:!1}),computed:{formattedFileSize(){return Object(d.h)(this.file.size)},isValid(){return Boolean(this.file)}},methods:{show(){this.$refs[this.modalId].show()},setFile(e){var t=this;this.file=e;const n=new FileReader;n.readAsDataURL(this.file),n.onload=function(e){var n;t.filePreviewURL=null===(n=e.target)||void 0===n?void 0:n.result}},removeFile(){this.file=null,this.filePreviewURL=null},submitForm(e){return this.replacePath?this.replaceFile(e):this.uploadFile(e)},submitRequest(e,t,n){var i=this;return this.loading=!0,n.append("file",this.file),Object(o.a)({method:e,url:t,data:n,headers:{...l.a}}).then((function(e){Object(c.T)(e.data.filePath)})).catch((function(e){Object(s.a)(`Failed to ${i.replacePath?"replace":"upload"} file. See exception details for more information.`,e),Object(a.createAlert)({message:i.$options.i18n.ERROR_MESSAGE})})).finally((function(){i.loading=!1}))},replaceFile(e){return this.submitRequest("put",this.replacePath,e)},uploadFile(e){const{$route:{params:{path:t}}}=this,n=Object(c.A)(this.path,t);return this.submitRequest("post",n,e)}},validFileMimetypes:[]},f=n("tBpV"),g=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("commit-changes-modal",{ref:e.modalId,attrs:{"modal-id":e.modalId,"commit-message":e.commitMessage,"target-branch":e.targetBranch,"original-branch":e.originalBranch,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,valid:e.isValid,loading:e.loading,"empty-repo":e.emptyRepo,"data-testid":"upload-blob-modal"},on:{"submit-form":e.submitForm},scopedSlots:e._u([{key:"body",fn:function(){return[t("upload-dropzone",{staticClass:"gl-mb-6 gl-h-26",attrs:{"single-file-selection":"","valid-file-mimetypes":e.$options.validFileMimetypes,"is-file-valid":function(){return!0}},on:{change:e.setFile}},[e.file?t("div",{staticClass:"card upload-dropzone-card upload-dropzone-border gl-h-full gl-w-full gl-items-center gl-justify-center gl-p-3"},[t("file-icon",{attrs:{"file-name":e.file.name,size:24}}),e._v(" "),t("div",{staticClass:"gl-mb-2"},[e._v("\n          "+e._s(e.file.name)+"\n          \n          "),t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.formattedFileSize))])]),e._v(" "),t("gl-button",{attrs:{category:"tertiary",variant:"confirm",disabled:e.loading},on:{click:e.removeFile}},[e._v(e._s(e.$options.i18n.REMOVE_FILE_TEXT))])],1):e._e()])]},proxy:!0}])})}),[],!1,null,null,null);t.a=g.exports},FIKT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getProjectShortPath"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectShortPath"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:57}};n.loc.source={body:"query getProjectShortPath {\n  projectShortPath @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getProjectShortPath=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getProjectShortPath")},HCGv:function(e,t,n){"use strict";var i=n("4lAS"),r=n("lHJB"),a=n("ewH8"),o=n("/lV4"),s=n("8Igx"),l=n("3twG"),d=n("7F3p"),c=n("jlnU"),u=n("jEr0"),h=n("sHIo"),p=n("U5ZW"),m=n("v+Mp"),f=n("Erny"),g=n("wQDE"),b=n("fXLe"),v=n("C5t3"),k=n("erMc"),y=n("d08M"),w=n("D+x4"),_=n("ygVz"),S=n("C83f"),P=n("t8rf"),j=n("NmEs");const N=function(e,t){const{createMergeRequestIn:n,forkProject:i}=e;return Object(j.D)()&&!t&&n&&i},E=function(e,t,n){return N(e,t)&&!n},T=function(e,t,n){return N(e,t)&&!n},O=function(e,t,n){return E(e,t,n.canModifyBlob)||T(e,t,n.canModifyBlobWithWebIde)},B=function(e){return"ide"===e},C=function({storedExternally:e,externalStorage:t}){return{isExternallyStored:e,isLfs:Boolean(e)&&"lfs"===t}},F=function(e){const{isExternallyStored:t,isLfs:n}=C(e);return!t&&!n};var x=n("20aQ"),I=n.n(x),R=n("fVTn"),L=n.n(R),D=n("waRY"),A=n.n(D),M=n("ITU6"),q=n("Lzak"),U=n("Bo17"),V=n("XiQx"),$=n("4+8U"),G=n("bUk/"),H=n.n(G),z=n("aN3Q"),W=n.n(z),Q=n("w0fo"),K=n("l3DV"),X=n("s1D3"),Z=n("tbP8"),Y=n("IO2v"),J=n("i1dK"),ee={name:"MergeRequestListItem",components:{GlIcon:X.a,GlAvatar:Z.a,GlAvatarsInline:Y.a},directives:{GlTooltip:r.a},props:{mergeRequest:{type:Object,required:!0}},computed:{formattedTime(){return Object(J.b)().format(this.mergeRequest.createdAt)},assignees(){var e;const t=null===(e=this.mergeRequest.assignees)||void 0===e?void 0:e.nodes;return t.length?t:[this.mergeRequest.author]},assigneesBadgeSrOnlyText(){return Object(o.n__)("%d additional assignee","%d additional assignees",this.assignees.length-this.$options.MAX_VISIBLE_ASSIGNEES)}},MAX_VISIBLE_ASSIGNEES:3},te=n("tBpV"),ne=Object(te.a)(ee,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-flex"},[t("div",{staticClass:"gl-flex"},[t("gl-icon",{staticClass:"gl-mr-3 gl-flex-shrink-0",attrs:{name:"merge-request"}}),e._v(" "),t("div",{staticClass:"gl-flex-grow"},[t("div",{staticClass:"gl-mb-1 gl-mr-2 gl-line-clamp-2"},[e._v("\n        "+e._s(e.mergeRequest.title)+"\n      ")]),e._v(" "),t("span",{staticClass:"gl-text-sm gl-text-secondary"},[e._v("\n        "+e._s(e.s__("OpenMrBadge|Opened"))+" "),t("time",{domProps:{textContent:e._s(e.formattedTime)}})])])],1),e._v(" "),t("div",{staticClass:"gl-ml-auto"},[t("gl-avatars-inline",{attrs:{avatars:e.assignees,collapsed:!0,"avatar-size":24,"max-visible":e.$options.MAX_VISIBLE_ASSIGNEES,"badge-sr-only-text":e.assigneesBadgeSrOnlyText},scopedSlots:e._u([{key:"avatar",fn:function({avatar:e}){return[t("gl-avatar",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{size:24,src:e.avatarUrl,alt:e.name,title:e.name}})]}}])})],1)])}),[],!1,null,null,null).exports;var ie={components:{GlBadge:q.a,GlDisclosureDropdown:U.a,GlDisclosureDropdownItem:V.b,GlSkeletonLoader:$.a,MergeRequestListItem:ne},directives:{GlTooltip:r.a},inject:["currentRef"],props:{projectPath:{type:String,required:!0},blobPath:{type:String,required:!0}},data:()=>({openMrsCount:null,openMrs:[],isDropdownOpen:!1}),computed:{badgeTitle:()=>Object(o.s__)("OpenMrBadge|Open merge requests created in the past 30 days that target this branch and modify this file."),openMRsCountText(){return Object(o.sprintf)(Object(o.s__)("OpenMrBadge|%{count} Open"),{count:this.openMrsCount})},createdAfter(){const e=Object(Q.L)(new Date,29,{utc:!0});return Object(K.m)(e)},isLoading(){return this.$apollo.queries.loading},showBadge(){return!this.isLoading&&this.openMrsCount>0},queryVariables(){return{projectPath:this.projectPath,targetBranch:[this.currentRef],blobPath:this.blobPath,createdAfter:this.createdAfter}}},apollo:{openMrsCount:{query:H.a,variables(){return this.queryVariables},update:({project:{mergeRequests:{count:e}={}}={}}={})=>e,error(e){Object(s.a)("Failed to fetch merge request count. See exception details for more information.",e),d.b(e)}},openMrs:{query:W.a,variables(){return this.queryVariables},skip(){return!this.isDropdownOpen},update:function(e){var t;return(null==e||null===(t=e.project)||void 0===t||null===(t=t.mergeRequests)||void 0===t?void 0:t.nodes)||[]},error(e){Object(s.a)("Failed to fetch merge requests. See exception details for more information.",e),d.b(e)}}},methods:{handleMergeRequestClick(e){Object(l.T)(e)}}},re=Object(te.a)(ie,(function(){var e=this,t=e._self._c;return e.showBadge?t("gl-disclosure-dropdown",{attrs:{"aria-label":e.openMRsCountText,"fluid-width":!0,loading:e.isLoading,placement:"bottom-end"},on:{shown:function(t){e.isDropdownOpen=!0},hidden:function(t){e.isDropdownOpen=!1}},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("button",{staticClass:"gl-rounded-pill gl-border-none gl-bg-transparent gl-p-0 gl-leading-0",attrs:{"data-event-tracking":"click_dropdown_showing_recent_mrs_for_file_on_branch","data-event-value":e.openMrsCount}},[t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-h-full",attrs:{"data-testid":"open-mr-badge",variant:"success",icon:"merge-request",title:e.badgeTitle,"aria-label":e.badgeTitle}},[e._v("\n        "+e._s(e.openMRsCountText)+"\n      ")])],1)]},proxy:!0},{key:"header",fn:function(){return[t("div",{staticClass:"gl-border-b-1 gl-border-gray-100 gl-p-4 gl-font-bold gl-border-b-solid"},[e._v("\n      "+e._s(e.s__("OpenMrBadge|Open merge requests"))+"\n      "),t("gl-badge",[e._v(e._s(e.openMrsCount))])],1)]},proxy:!0}],null,!1,2943916951)},[e._v(" "),e._v(" "),!e.openMrs.length||e.isLoading?t("div",{staticClass:"gl-w-34 gl-px-5 gl-py-3 md:gl-w-48"},[t("gl-skeleton-loader",{attrs:{height:15}},[t("rect",{attrs:{width:"250",height:"15",rx:"4"}})])],1):t("ul",{staticClass:"gl-m-0 gl-w-34 gl-p-0 md:gl-w-48"},e._l(e.openMrs,(function(n){return t("gl-disclosure-dropdown-item",{key:n.iid,on:{action:function(t){return e.handleMergeRequestClick(n.webUrl)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("merge-request-list-item",{attrs:{"merge-request":n}})]},proxy:!0}],null,!0)})})),1)]):e._e()}),[],!1,null,null,null).exports,ae=(n("B++/"),n("z6RN"),n("47t/"),n("UAFW")),oe=n.n(ae),se=n("7bJy"),le=n("uQq6"),de=n("fSQg"),ce=n("CSd6");var ue={name:"CEBlobButtonGroup",i18n:{replace:Object(o.__)("Replace")},replaceBlobModalId:"modal-replace-blob",components:{GlDisclosureDropdownItem:V.b,GlDisclosureDropdownGroup:de.a,UploadBlobModal:ce.a},mixins:[u.a],inject:{selectedBranch:{default:""},originalBranch:{default:""},blobInfo:{default:function(){return le.d.repository.blobs.nodes[0]}}},props:{currentRef:{type:String,required:!0},isUsingLfs:{type:Boolean,required:!1,default:!1},userPermissions:{type:Object,required:!0},isReplaceDisabled:{type:Boolean,required:!0}},computed:{replaceFileItem(){return{text:this.$options.i18n.replace,extraAttrs:{"data-testid":"replace",disabled:this.isReplaceDisabled}}},replaceCommitMessage(){return Object(o.sprintf)(Object(o.__)("Replace %{name}"),{name:this.blobInfo.name})},shouldShowForkSuggestion(){return O(this.userPermissions,this.isUsingLfs,this.blobInfo)}},methods:{showModal(){this.shouldShowForkSuggestion?this.$emit("showForkSuggestion"):this.$refs[this.$options.replaceBlobModalId].show()}}},he=Object(te.a)(ue,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-group",{attrs:{bordered:""}},[e._t("lock-file-item"),e._v(" "),t("gl-disclosure-dropdown-item",{attrs:{item:e.replaceFileItem,"data-testid":"replace-dropdown-item"},on:{action:e.showModal}}),e._v(" "),t("upload-blob-modal",{ref:e.$options.replaceBlobModalId,attrs:{"modal-id":e.$options.replaceBlobModalId,"commit-message":e.replaceCommitMessage,"target-branch":e.selectedBranch||e.currentRef,"original-branch":e.originalBranch||e.currentRef,"can-push-code":e.userPermissions.pushCode,"can-push-to-branch":e.blobInfo.canCurrentUserPushToBranch,path:e.blobInfo.path,"replace-path":e.blobInfo.replacePath}})],2)}),[],!1,null,null,null).exports,pe=n("1cpz"),me=n("bprG"),fe=n.n(me),ge={i18n:{lock:Object(o.__)("Lock"),unlock:Object(o.__)("Unlock"),modalTitle:Object(o.__)("Lock file?"),actionCancel:Object(o.__)("Cancel"),mutationError:Object(o.__)("An error occurred while editing lock information, please try again.")},components:{GlDisclosureDropdownItem:V.b,GlModal:pe.a},props:{name:{type:String,required:!0},path:{type:String,required:!0},projectPath:{type:String,required:!0},canLock:{type:Boolean,required:!0},isLocked:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},data:()=>({isUpdating:!1,isModalVisible:!1,locked:!1}),computed:{lockButtonTitle(){return this.isLocked?this.$options.i18n.unlock:this.$options.i18n.lock},lockConfirmText(){return Object(o.sprintf)(Object(o.__)("Are you sure you want to %{action} %{name}?"),{action:this.lockButtonTitle.toLowerCase(),name:this.name})},lockFileItem(){return{text:this.lockButtonTitle,extraAttrs:{"data-testid":"lock-file-dropdown-item",disabled:!this.canLock||this.isLoading||this.isUpdating}}},modalActions(){return{primary:{text:this.lockButtonTitle,attributes:{variant:"confirm","data-testid":"confirm-ok-button"}},cancel:{text:this.$options.i18n.actionCancel}}}},watch:{isLocked:{immediate:!0,handler(e){this.locked=e}}},methods:{hideModal(){this.isModalVisible=!1},showModal(){this.canLock&&(this.isModalVisible=!0)},toggleLock(){var e=this;const t=!this.locked;this.isUpdating=!0,this.$apollo.mutate({mutation:fe.a,variables:{filePath:this.path,projectPath:this.projectPath,lock:t}}).catch((function(t){Object(c.createAlert)({message:e.$options.i18n.mutationError,captureError:!0,error:t})})).finally((function(){e.locked=t,e.isUpdating=!1}))}}},be={name:"EEBlobButtonGroup",components:{CeBlobButtonGroup:he,LockFileDropdownItem:Object(te.a)(ge,(function(){var e=this,t=e._self._c;return t("div",[t("gl-disclosure-dropdown-item",{attrs:{item:e.lockFileItem},on:{action:e.showModal}}),e._v(" "),t("gl-modal",{attrs:{"modal-id":"lock-file-modal",visible:e.isModalVisible,title:e.$options.i18n.modalTitle,"action-primary":e.modalActions.primary,"action-cancel":e.modalActions.cancel},on:{primary:e.toggleLock,hide:e.hideModal}},[t("p",[e._v("\n      "+e._s(e.lockConfirmText)+"\n    ")])])],1)}),[],!1,null,null,null).exports},mixins:[Object(h.a)()],inject:{blobInfo:{default:function(){return le.d.repository.blobs.nodes[0]}}},props:{...he.props,projectPath:{type:String,required:!0},canLock:{type:Boolean,required:!0},isLocked:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},methods:{onShowForkSuggestion(){this.$emit("showForkSuggestion")}}},ve=Object(te.a)(be,(function(){var e=this,t=e._self._c;return t("ce-blob-button-group",e._b({on:{showForkSuggestion:e.onShowForkSuggestion},scopedSlots:e._u([e.glFeatures.fileLocks?{key:"lock-file-item",fn:function(){return[t("lock-file-dropdown-item",{attrs:{name:e.blobInfo.name,path:e.blobInfo.path,"project-path":e.projectPath,"user-permissions":e.userPermissions,"is-loading":e.isLoading,"can-lock":e.canLock,"is-locked":e.isLocked}})]},proxy:!0}:null],null,!0)},"ce-blob-button-group",e.$props,!1))}),[],!1,null,null,null).exports;const ke={btnCopyContentsTitle:Object(o.s__)("BlobViewer|Copy contents"),btnDownloadTitle:Object(o.__)("Download"),btnRawTitle:Object(o.s__)("BlobViewer|Open raw")};var ye={i18n:ke,components:{GlDisclosureDropdownItem:V.b,GlDisclosureDropdownGroup:de.a},inject:{blobHash:{default:""},canDownloadCode:{default:!0},blobInfo:{default:function(){return le.d.repository.blobs.nodes[0]}}},props:{activeViewerType:{type:String,required:!0},hasRenderError:{type:Boolean,required:!0},isBinaryFileType:{type:Boolean,required:!0},isEmpty:{type:Boolean,required:!0},overrideCopy:{type:Boolean,required:!0}},computed:{copyFileContentsItem(){return{text:ke.btnCopyContentsTitle,extraAttrs:{"data-testid":"copy-contents-button","data-clipboard-target":this.getBlobHashTarget,disabled:this.copyDisabled}}},openRawItem(){return{text:ke.btnRawTitle,href:this.blobInfo.rawPath||this.blobInfo.externalStorageUrl,extraAttrs:{target:"_blank"}}},downloadItem(){return{text:ke.btnDownloadTitle,href:this.downloadUrl,extraAttrs:{target:"_blank","data-testid":"download-button"}}},environmentItem(){return{text:this.environmentTitle,href:this.blobInfo.environmentExternalUrlForRouteMap,extraAttrs:{target:"_blank","data-testid":"environment"}}},showCopyButton(){return!this.hasRenderError&&!this.isBinaryFileType},copyDisabled(){return"rich"===this.activeViewerType},getBlobHashTarget(){return this.overrideCopy?null:`[data-blob-hash="${this.blobHash}"]`},downloadUrl(){return Object(l.N)({inline:!1},Object(l.H)(this.blobInfo.rawPath,Object(l.l)()))},showEnvironmentItem(){return this.blobInfo.environmentFormattedExternalUrl&&this.blobInfo.environmentExternalUrlForRouteMap},environmentTitle(){return Object(o.sprintf)(Object(o.s__)("BlobViewer|View on %{environmentName}"),{environmentName:this.blobInfo.environmentFormattedExternalUrl})}},methods:{onCopy(){this.overrideCopy&&this.$emit("copy")}}},we=Object(te.a)(ye,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-group",{staticClass:"sm:gl-hidden",attrs:{bordered:""}},[e.showCopyButton?t("gl-disclosure-dropdown-item",{staticClass:"js-copy-blob-source-btn",attrs:{"data-testid":"copy-item",item:e.copyFileContentsItem},on:{action:e.onCopy}}):e._e(),e._v(" "),e.isBinaryFileType?e._e():t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"open-raw-item",item:e.openRawItem}}),e._v(" "),!e.isEmpty&&e.canDownloadCode?t("gl-disclosure-dropdown-item",{attrs:{"data-test":"download-item",item:e.downloadItem}}):e._e(),e._v(" "),e.showEnvironmentItem?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"environment-item",item:e.environmentItem}}):e._e()],1)}),[],!1,null,null,null).exports,_e=n("o4PY"),Se=n.n(_e),Pe=n("++ts"),je={components:{GlDisclosureDropdownGroup:de.a,GlDisclosureDropdownItem:V.b,DeleteBlobModal:Pe.a},inject:{selectedBranch:{default:""},originalBranch:{default:""},blobInfo:{default:function(){return le.d.repository.blobs.nodes[0]}}},props:{currentRef:{type:String,required:!0},isEmptyRepository:{type:Boolean,required:!1,default:!1},isUsingLfs:{type:Boolean,required:!1,default:!1},userPermissions:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1}},computed:{deleteFileItem(){return{text:Object(o.__)("Delete"),extraAttrs:{"data-testid":"delete",disabled:this.disabled}}},deleteModalId:()=>Se()("delete-modal"),deleteModalCommitMessage(){return Object(o.sprintf)(Object(o.__)("Delete %{name}"),{name:this.blobInfo.name})},shouldShowForkSuggestion(){return O(this.userPermissions,this.isUsingLfs,this.blobInfo)}},methods:{showModal(){this.disabled||(this.shouldShowForkSuggestion?this.$emit("showForkSuggestion"):this.$refs[this.deleteModalId].show())}}},Ne=Object(te.a)(je,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-group",{attrs:{bordered:""}},[t("gl-disclosure-dropdown-item",{attrs:{item:e.deleteFileItem,variant:"danger"},on:{action:e.showModal}}),e._v(" "),t("delete-blob-modal",{ref:e.deleteModalId,attrs:{"delete-path":e.blobInfo.webPath,"modal-id":e.deleteModalId,"commit-message":e.deleteModalCommitMessage,"target-branch":e.selectedBranch||e.currentRef,"original-branch":e.originalBranch||e.currentRef,"can-push-code":e.userPermissions.pushCode,"can-push-to-branch":e.blobInfo.canCurrentUserPushToBranch,"empty-repo":e.isEmptyRepository,"is-using-lfs":e.isUsingLfs}})],1)}),[],!1,null,null,null).exports,Ee=n("yWhq"),Te=n("O6Bj"),Oe=n("tsC0");a.default.use(Ee.a);var Be={components:{GlDisclosureDropdownItem:V.b},props:{permalinkPath:{type:String,required:!0}},computed:{permalinkShortcutKey:()=>Object(y.Bb)(y.gb)[0],shortcutsDisabled:()=>Object(g.b)(),absolutePermalinkPath(){const e=Object(l.H)(this.permalinkPath,Object(l.l)());if(Oe.a.currentLineNumber){const t=Object(v.a)(Oe.a.currentLineNumber);return`${e}${Object(v.b)(e,t)}#L${Oe.a.currentLineNumber}`}return e}},mounted(){Te.b.bind(Object(y.Bb)(y.gb),this.triggerCopyPermalink)},beforeDestroy(){Te.b.unbind(Object(y.Bb)(y.gb))},methods:{triggerCopyPermalink(){this.$refs.copyPermalinkButton.$el.click(),this.onCopyPermalink()},onCopyPermalink(){this.$toast.show(Object(o.__)("Permalink copied to clipboard."))}}},Ce=Object(te.a)(Be,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-item",{ref:"copyPermalinkButton",attrs:{"aria-keyshortcuts":e.permalinkShortcutKey,"data-testid":"permalink","data-clipboard-text":e.absolutePermalinkPath,"data-clipboard-handle-tooltip":"false"},on:{action:e.onCopyPermalink},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-flex gl-items-center gl-justify-between"},[t("span",[e._v(e._s(e.__("Copy permalink")))]),e._v(" "),e.permalinkShortcutKey&&!e.shortcutsDisabled?t("kbd",{staticClass:"flat"},[e._v(e._s(e.permalinkShortcutKey))]):e._e()])]},proxy:!0}])})}),[],!1,null,null,null).exports,Fe={components:{GlDisclosureDropdownGroup:de.a,GlDisclosureDropdownItem:V.b,PermalinkDropdownItem:Ce},inject:["blobInfo"],props:{permalinkPath:{type:String,required:!0}},computed:{findFileShortcutKey:()=>Object(y.Bb)(y.sb)[0],shortcutsDisabled:()=>Object(g.b)(),blameItem(){return{text:Object(o.__)("Blame"),href:this.blobInfo.blamePath,extraAttrs:{"data-testid":"blame"}}},showBlameButton(){return F(this.blobInfo)}},methods:{handleFindFile(){_.a.trackEvent(S.e),m.default.focusSearchFile()}}},xe=Object(te.a)(Fe,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-group",[t("gl-disclosure-dropdown-item",{staticClass:"sm:gl-hidden",attrs:{"aria-keyshortcuts":e.findFileShortcutKey,"data-testid":"find"},on:{action:e.handleFindFile},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-flex gl-items-center gl-justify-between"},[t("span",[e._v(e._s(e.__("Find file")))]),e._v(" "),e.findFileShortcutKey&&!e.shortcutsDisabled?t("kbd",{staticClass:"flat"},[e._v(e._s(e.findFileShortcutKey))]):e._e()])]},proxy:!0}])}),e._v(" "),e.showBlameButton?t("gl-disclosure-dropdown-item",{staticClass:"js-blob-blame-link sm:gl-hidden",attrs:{item:e.blameItem,"data-testid":"blame-dropdown-item"}}):e._e(),e._v(" "),t("permalink-dropdown-item",{attrs:{"permalink-path":e.permalinkPath}})],1)}),[],!1,null,null,null).exports;var Ie={name:"CEBlobOverflowMenu",i18n:{dropdownLabel:Object(o.__)("File actions"),dropdownTooltip:Object(o.__)("Actions"),fetchError:Object(o.__)("An error occurred while fetching lock information, please try again.")},components:{BlobRepositoryActionsGroup:xe,GlDisclosureDropdown:U.a,BlobDefaultActionsGroup:we,BlobButtonGroup:ve,BlobDeleteFileGroup:Ne},directives:{GlTooltipDirective:r.a},mixins:[Object(h.a)()],inject:["blobInfo","currentRef"],provide(){var e=this;return{blobInfo:Object(a.computed)((function(){var t;return null!==(t=e.blobInfo)&&void 0!==t?t:{}}))}},props:{projectPath:{type:String,required:!0},isBinaryFileType:{type:Boolean,required:!1,default:!1},overrideCopy:{type:Boolean,required:!1,default:!1},isEmptyRepository:{type:Boolean,required:!1,default:!1},isUsingLfs:{type:Boolean,required:!1,default:!1},eeCanModifyFile:{type:Boolean,required:!1,default:void 0},eeCanLock:{type:Boolean,required:!1,default:void 0},eeIsLocked:{type:Boolean,required:!1,default:void 0}},apollo:{projectInfo:{query:oe.a,variables(){return{projectPath:this.projectPath}},update({project:e}){this.userPermissions=null==e?void 0:e.userPermissions},error(){Object(c.createAlert)({message:this.$options.i18n.fetchError})}}},data:()=>({userPermissions:le.d.userPermissions,isLoggedIn:Object(j.D)()}),computed:{isLoading(){var e;return null===(e=this.$apollo)||void 0===e?void 0:e.queries.projectInfo.loading},activeViewerType(){var e;if("1"!==(null===(e=this.$route)||void 0===e||null===(e=e.query)||void 0===e?void 0:e.plain)){if(document.querySelector('.blob-viewer[data-type="rich"]'))return se.i}return se.l},viewer(){return this.activeViewerType===se.i?this.blobInfo.richViewer:this.blobInfo.simpleViewer},hasRenderError(){return Boolean(this.viewer.renderError)},canModifyFile(){return void 0===this.eeCanModifyFile||this.eeCanModifyFile},canLock(){return void 0!==this.eeCanLock&&this.eeCanLock},isLocked(){return void 0!==this.eeIsLocked&&this.eeIsLocked}},methods:{onCopy(){this.overrideCopy&&this.$emit("copy")},onShowForkSuggestion(){this.$emit("showForkSuggestion")}}},Re={name:"EEBlobOverflowMenu",components:{CeBlobOverflowMenu:Object(te.a)(Ie,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip-directive",rawName:"v-gl-tooltip-directive.hover",value:e.$options.i18n.dropdownTooltip,expression:"$options.i18n.dropdownTooltip",modifiers:{hover:!0}}],staticClass:"gl-mr-0",attrs:{"no-caret":"",icon:"ellipsis_v","data-testid":"blob-overflow-menu","toggle-text":e.$options.i18n.dropdownLabel,"text-sr-only":"",category:"tertiary"}},[t("blob-repository-actions-group",{attrs:{"permalink-path":e.blobInfo.permalinkPath}}),e._v(" "),e.isLoggedIn&&!e.blobInfo.archived?t("blob-button-group",{attrs:{"current-ref":e.currentRef,"project-path":e.projectPath,"is-using-lfs":e.isUsingLfs,"user-permissions":e.userPermissions,"is-loading":e.isLoading,"can-lock":e.canLock,"is-replace-disabled":!e.canModifyFile&&e.isLocked,"is-locked":e.isLocked},on:{showForkSuggestion:e.onShowForkSuggestion}}):e._e(),e._v(" "),t("blob-default-actions-group",{attrs:{"active-viewer-type":e.activeViewerType,"has-render-error":e.hasRenderError,"is-binary-file-type":e.isBinaryFileType,"is-empty":e.isEmptyRepository,"override-copy":e.overrideCopy},on:{copy:e.onCopy}}),e._v(" "),e.isLoggedIn&&!e.blobInfo.archived?t("blob-delete-file-group",{attrs:{"current-ref":e.currentRef,"is-empty-repository":e.isEmptyRepository,"is-using-lfs":e.isUsingLfs,"user-permissions":e.userPermissions,disabled:!e.canModifyFile&&e.isLocked},on:{showForkSuggestion:e.onShowForkSuggestion}}):e._e()],1)}),[],!1,null,null,null).exports},inject:["blobInfo","currentRef","rootRef"],props:{projectPath:{type:String,required:!0},isBinaryFileType:{type:Boolean,required:!1,default:!1},overrideCopy:{type:Boolean,required:!1,default:!1},isEmptyRepository:{type:Boolean,required:!1,default:!1},isUsingLfs:{type:Boolean,required:!1,default:!1}},apollo:{projectInfo:{query:oe.a,variables(){return{projectPath:this.projectPath}},update({project:e}){this.pathLocks=(null==e?void 0:e.pathLocks)||le.d.pathLocks,this.userPermissions=null==e?void 0:e.userPermissions},error(){Object(c.createAlert)({message:this.$options.i18n.fetchError})}}},data:()=>({userPermissions:le.d.userPermissions,pathLocks:le.d.pathLocks}),computed:{isOnDefaultBranch(){return this.currentRef===this.rootRef},pathLockedByUser(){var e,t=this;const n=null===(e=this.pathLocks)||void 0===e?void 0:e.nodes.find((function(e){return e.path===t.blobInfo.path}));return n?n.user:null},canLock(){var e;const{pushCode:t,downloadCode:n}=this.userPermissions,i=null===(e=window.gon)||void 0===e?void 0:e.current_username;return(!this.pathLockedByUser||this.pathLockedByUser.username===i)&&(t&&n)},canModifyFile(){return!this.isOnDefaultBranch||this.canLock},isLocked(){return Boolean(this.pathLockedByUser)}},methods:{onCopy(){this.$emit("onCopy")},onShowForkSuggestion(){this.$emit("showForkSuggestion")}}},Le=Object(te.a)(Re,(function(){var e=this;return(0,e._self._c)("ce-blob-overflow-menu",{attrs:{"project-path":e.projectPath,"is-binary-file-type":e.isBinaryFileType,"override-copy":e.overrideCopy,"is-empty-repository":e.isEmptyRepository,"is-using-lfs":e.isUsingLfs,"ee-can-modify-file":e.canModifyFile,"ee-is-locked":e.isLocked,"ee-can-lock":e.canLock},on:{copy:e.onCopy,showForkSuggestion:e.onShowForkSuggestion}})}),[],!1,null,null,null).exports,De={components:{GlModal:pe.a},props:{visible:{type:Boolean,required:!0},forkPath:{type:String,required:!0}},computed:{primaryAction(){return{text:Object(o.__)("Fork"),attributes:{variant:"confirm",href:this.forkPath,class:"gl-w-full sm:gl-w-auto","data-method":"post","data-testid":"fork"}}},secondaryAction:()=>({text:Object(o.__)("Cancel"),attributes:{class:"gl-w-full sm:gl-w-auto","data-testid":"cancel"}})}},Ae=Object(te.a)(De,(function(){var e=this,t=e._self._c;return t("gl-modal",e._g({ref:"forkSuggestionModal",attrs:{"modal-id":"fork-suggestion-modal","no-focus-on-show":"",visible:e.visible,title:e.__("Fork to make changes"),"action-primary":e.primaryAction,"action-secondary":e.secondaryAction}},e.$listeners),[t("p",{attrs:{"data-testid":"message"}},[e._v("\n    "+e._s(e.__("You're not allowed to make changes to this project directly. Create a fork to make changes and submit a merge request."))+"\n  ")])])}),[],!1,null,null,null).exports,Me={i18n:{findFile:Object(o.__)("Find file"),blame:Object(o.__)("Blame"),permalink:Object(o.__)("Permalink"),permalinkTooltip:Object(o.__)("Go to permalink"),errorMessage:Object(o.__)("An error occurred while loading the blob controls.")},buttonClassList:"sm:gl-w-auto gl-w-full sm:gl-mt-0 gl-mt-3",components:{OpenMrBadge:re,GlButton:i.a,OverflowMenu:Le,ForkSuggestionModal:Ae,WebIdeLink:function(){return Promise.resolve().then(n.bind(null,"Pyc4"))}},directives:{GlTooltip:r.a},mixins:[u.a,Object(h.a)(),_.a.mixin()],apollo:{project:{query:I.a,variables(){return{projectPath:this.projectPath,filePath:this.filePath,ref:this.ref,refType:Object(M.a)(this.refType)}},skip(){return!this.filePath},error(e){Object(c.createAlert)({message:this.$options.i18n.errorMessage}),Object(s.a)("Failed to fetch blob controls. See exception details for more information.",e),d.b(e)}},currentUser:{query:L.a,error(e){Object(c.createAlert)({message:this.$options.i18n.errorMessage}),Object(s.a)("Failed to fetch current user. See exception details for more information.",e),d.b(e)}},gitpodEnabled:{query:A.a,error(e){Object(c.createAlert)({message:this.$options.i18n.errorMessage}),Object(s.a)("Failed to fetch application info. See exception details for more information.",e),d.b(e)}}},inject:["currentRef"],provide(){var e=this;return{blobInfo:Object(a.computed)((function(){var t;return null!==(t=e.blobInfo)&&void 0!==t?t:le.d.repository.blobs.nodes[0]})),currentRef:Object(a.computed)((function(){var t;return null!==(t=e.currentRef)&&void 0!==t?t:e.blobInfo.ref}))}},props:{projectPath:{type:String,required:!0},projectIdAsNumber:{type:Number,required:!0},refType:{type:String,required:!1,default:null},isBinary:{type:Boolean,required:!1,default:!1}},data:()=>({project:{},currentUser:{},gitpodEnabled:!1,isForkSuggestionModalVisible:!1}),computed:{isLoadingRepositoryBlob(){return this.$apollo.queries.project.loading},filePath(){return this.$route.params.path},showBlobControls(){return this.filePath&&"blobPathDecoded"===this.$route.name},blobInfo(){var e;return(null===(e=this.project)||void 0===e||null===(e=e.repository)||void 0===e||null===(e=e.blobs)||void 0===e?void 0:e.nodes[0])||{}},userPermissions(){var e;return(null===(e=this.project)||void 0===e?void 0:e.userPermissions)||le.d.userPermissions},showBlameButton(){return F(this.blobInfo)},isUsingLfs(){return e=this.blobInfo,C(e).isLfs;var e},isBinaryFileType(){var e,t;return this.isBinary||(null===(e=this.blobInfo.simpleViewer)||void 0===e?void 0:e.fileType)!==le.q&&(null===(t=this.blobInfo.simpleViewer)||void 0===t?void 0:t.fileType)!==le.e},rawPath(){return this.blobInfo.externalStorageUrl||this.blobInfo.rawPath},shortcuts:()=>({findFile:Object(y.Bb)(y.sb)[0],permalink:Object(y.Bb)(y.gb)[0]}),findFileShortcutKey(){return this.shortcuts.findFile},findFileTooltip(){if(Object(g.b)())return null;const{description:e}=y.sb;return this.formatTooltipWithShortcut(e,this.shortcuts.findFile)},permalinkShortcutKey(){return this.shortcuts.permalink},permalinkTooltip(){if(Object(g.b)())return null;const e=this.$options.i18n.permalinkTooltip;return this.formatTooltipWithShortcut(e,this.shortcuts.permalink)},showWebIdeLink(){return!this.blobInfo.archived&&this.blobInfo.editBlobPath},shouldShowSingleFileEditorForkSuggestion(){return E(this.userPermissions,this.isUsingLfs,this.blobInfo.canModifyBlob)},shouldShowWebIdeForkSuggestion(){return T(this.userPermissions,this.isUsingLfs,this.blobInfo.canModifyBlobWithWebIde)}},watch:{showBlobControls(e){Object(P.a)(".tree-controls",!e)},blobInfo(){var e=this;Object(p.a)(),this.$nextTick((function(){e.initShortcuts(),e.initLinksUpdate()}))}},methods:{formatTooltipWithShortcut:(e,t)=>Object(w.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`),initShortcuts(){Object(v.d)(),Object(f.addShortcutsExtension)(b.a)},initLinksUpdate(){new k.a(document.querySelector(".tree-holder"),".file-line-num[data-line-number], .file-line-num[data-line-number] *",document.querySelectorAll(".js-data-file-blob-permalink-url, .js-blob-blame-link"))},handleFindFile(){this.trackEvent(S.e),m.default.focusSearchFile()},handleBlameClick(){this.trackEvent(S.c)},onCopy(){navigator.clipboard.writeText(this.blobInfo.rawTextBlob)},onShowForkSuggestion(){this.isForkSuggestionModalVisible=!0},onEdit(e){const{ideEditPath:t,editBlobPath:n}=this.blobInfo;(function(e,t,n){return B(e)?t:n})(e,this.shouldShowWebIdeForkSuggestion,this.shouldShowSingleFileEditorForkSuggestion)?this.isForkSuggestionModalVisible=!0:Object(l.T)(B(e)?t:n)}}},qe=Object(te.a)(Me,(function(){var e=this,t=e._self._c;return e.showBlobControls?t("div",{staticClass:"gl-flex gl-flex-wrap gl-items-center gl-gap-3",attrs:{"data-testid":"blob-controls"}},[e.glFeatures.filterBlobPath?t("open-mr-badge",{staticClass:"!gl-ml-auto",attrs:{"project-path":e.projectPath,"blob-path":e.filePath}}):e._e(),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.html",value:e.findFileTooltip,expression:"findFileTooltip",modifiers:{html:!0}}],class:[e.$options.buttonClassList,{"gl-hidden sm:gl-inline-flex":e.glFeatures.blobOverflowMenu}],attrs:{"aria-keyshortcuts":e.findFileShortcutKey,"data-testid":"find"},on:{click:e.handleFindFile}},[e._v("\n    "+e._s(e.$options.i18n.findFile)+"\n  ")]),e._v(" "),e.showBlameButton?t("gl-button",{staticClass:"js-blob-blame-link",class:[e.$options.buttonClassList,{"gl-hidden sm:gl-inline-flex":e.glFeatures.blobOverflowMenu}],attrs:{"data-testid":"blame",href:e.blobInfo.blamePath},on:{click:e.handleBlameClick}},[e._v("\n    "+e._s(e.$options.i18n.blame)+"\n  ")]):e._e(),e._v(" "),e.glFeatures.blobOverflowMenu?e._e():t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.html",value:e.permalinkTooltip,expression:"permalinkTooltip",modifiers:{html:!0}}],staticClass:"js-data-file-blob-permalink-url",class:e.$options.buttonClassList,attrs:{"aria-keyshortcuts":e.permalinkShortcutKey,"data-testid":"permalink",href:e.blobInfo.permalinkPath}},[e._v("\n    "+e._s(e.$options.i18n.permalink)+"\n  ")]),e._v(" "),e.glFeatures.blobOverflowMenu&&e.showWebIdeLink?t("web-ide-link",{staticClass:"!gl-m-0",attrs:{"show-edit-button":!e.isBinaryFileType,"edit-url":e.blobInfo.editBlobPath,"web-ide-url":e.blobInfo.ideEditPath,"needs-to-fork":e.shouldShowSingleFileEditorForkSuggestion,"needs-to-fork-with-web-ide":e.shouldShowWebIdeForkSuggestion,"show-pipeline-editor-button":Boolean(e.blobInfo.pipelineEditorPath),"pipeline-editor-url":e.blobInfo.pipelineEditorPath,"gitpod-url":e.blobInfo.gitpodBlobUrl,"is-gitpod-enabled-for-instance":e.gitpodEnabled,"is-gitpod-enabled-for-user":e.currentUser&&e.currentUser.gitpodEnabled,"project-path":e.projectPath,"project-id":e.projectIdAsNumber,"user-preferences-gitpod-path":e.currentUser&&e.currentUser.preferencesGitpodPath,"user-profile-enable-gitpod-path":e.currentUser&&e.currentUser.profileEnableGitpodPath,"is-blob":"","disable-fork-modal":""},on:{edit:e.onEdit}}):e._e(),e._v(" "),e.isLoadingRepositoryBlob?e._e():t("fork-suggestion-modal",{attrs:{visible:e.isForkSuggestionModalVisible,"fork-path":e.blobInfo.forkAndViewPath},on:{hide:function(t){e.isForkSuggestionModalVisible=!1}}}),e._v(" "),!e.isLoadingRepositoryBlob&&e.glFeatures.blobOverflowMenu?t("overflow-menu",{attrs:{"project-path":e.projectPath,"is-binary-file-type":e.isBinaryFileType,"override-copy":!0,"is-empty-repository":e.project.repository.empty,"is-using-lfs":e.isUsingLfs},on:{copy:e.onCopy,showForkSuggestion:e.onShowForkSuggestion}}):e._e()],1):e._e()}),[],!1,null,null,null);t.a=qe.exports},HFsG:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i={};n.r(i),n.d(i,"setEnabledRefTypes",(function(){return d})),n.d(i,"setParams",(function(){return c})),n.d(i,"setUseSymbolicRefNames",(function(){return u})),n.d(i,"setProjectId",(function(){return h})),n.d(i,"setSelectedRef",(function(){return p})),n.d(i,"search",(function(){return m})),n.d(i,"searchBranches",(function(){return f})),n.d(i,"searchTags",(function(){return g})),n.d(i,"searchCommits",(function(){return b}));var r={};n.r(r),n.d(r,"isQueryPossiblyASha",(function(){return v})),n.d(r,"isLoading",(function(){return k}));var a=n("ewH8"),o=n("yi8e"),s=n("qPgm"),l=n("0a87");const d=function({commit:e},t){return e("SET_ENABLED_REF_TYPES",t)},c=function({commit:e},t){return e("SET_PARAMS",t)},u=function({commit:e},t){return e("SET_USE_SYMBOLIC_REF_NAMES",t)},h=function({commit:e},t){return e("SET_PROJECT_ID",t)},p=function({commit:e},t){return e("SET_SELECTED_REF",t)},m=function({state:e,dispatch:t,commit:n},i){n("SET_QUERY",i);const r=function(n,i){e.enabledRefTypes.includes(n)&&t(i)};r(l.e,"searchBranches"),r(l.h,"searchTags"),r(l.f,"searchCommits")},f=function({commit:e,state:t}){e("REQUEST_START"),s.b.branches(t.projectId,t.query,t.params).then((function(t){e("RECEIVE_BRANCHES_SUCCESS",t)})).catch((function(t){e("RECEIVE_BRANCHES_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))},g=function({commit:e,state:t}){e("REQUEST_START"),s.b.tags(t.projectId,t.query).then((function(t){e("RECEIVE_TAGS_SUCCESS",t)})).catch((function(t){e("RECEIVE_TAGS_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))},b=function({commit:e,state:t,getters:n}){n.isQueryPossiblyASha?(e("REQUEST_START"),s.b.commit(t.projectId,t.query).then((function(t){e("RECEIVE_COMMITS_SUCCESS",t)})).catch((function(t){e("RECEIVE_COMMITS_ERROR",t)})).finally((function(){e("REQUEST_FINISH")}))):e("RESET_COMMIT_MATCHES")},v=function({query:e}){return/^[0-9a-f]{4,40}$/i.test(e)},k=function({requestCount:e}){return e>0};n("3UXl"),n("iyoE");var y=n("NmEs"),w=n("QwBj"),_={SET_ENABLED_REF_TYPES(e,t){e.enabledRefTypes=t},SET_USE_SYMBOLIC_REF_NAMES(e,t){e.useSymbolicRefNames=t},SET_PARAMS(e,t){e.params=t},SET_PROJECT_ID(e,t){e.projectId=t},SET_SELECTED_REF(e,t){e.selectedRef=t},SET_QUERY(e,t){e.query=t},REQUEST_START(e){e.requestCount+=1},REQUEST_FINISH(e){e.requestCount-=1},RECEIVE_BRANCHES_SUCCESS(e,t){e.matches.branches={list:Object(y.h)(t.data).map((function(t){return{name:t.name,value:e.useSymbolicRefNames?"refs/heads/"+t.name:void 0,default:t.default,protected:t.protected}})),totalCount:parseInt(t.headers[l.l],10),error:null}},RECEIVE_BRANCHES_ERROR(e,t){e.matches.branches={list:[],totalCount:0,error:t}},RECEIVE_TAGS_SUCCESS(e,t){e.matches.tags={list:Object(y.h)(t.data).map((function(t){return{name:t.name,value:e.useSymbolicRefNames?"refs/tags/"+t.name:void 0,protected:t.protected}})),totalCount:parseInt(t.headers[l.l],10),error:null}},RECEIVE_TAGS_ERROR(e,t){e.matches.tags={list:[],totalCount:0,error:t}},RECEIVE_COMMITS_SUCCESS(e,t){const n=Object(y.h)(t.data);e.matches.commits={list:[{name:n.shortId,value:n.id,subtitle:n.title}],totalCount:1,error:null}},RECEIVE_COMMITS_ERROR(e,t){var n;e.matches.commits={list:[],totalCount:0,error:(null===(n=t.response)||void 0===n?void 0:n.status)!==w.h?t:null}},RESET_COMMIT_MATCHES(e){e.matches.commits={list:[],totalCount:0,error:null}}};a.default.use(o.b);t.b=function(){return new o.b.Store({actions:i,getters:r,mutations:_,state:{enabledRefTypes:[],projectId:null,query:"",matches:{branches:{list:[],totalCount:0,error:null},tags:{list:[],totalCount:0,error:null},commits:{list:[],totalCount:0,error:null}},selectedRef:null,params:null,requestCount:0}})};const S=function(){return{namespaced:!0,actions:i,getters:r,mutations:_,state:{enabledRefTypes:[],projectId:null,query:"",matches:{branches:{list:[],totalCount:0,error:null},tags:{list:[],totalCount:0,error:null},commits:{list:[],totalCount:0,error:null}},selectedRef:null,params:null,requestCount:0}}}},IO2v:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("SQMQ"),r=n.n(i),a=n("B42D"),o=n.n(a),s=n("XBTk"),l=n("tbP8"),d=n("DZUU"),c=n("Pyw5"),u=n.n(c);const h={name:"AvatarsInline",components:{GlAvatar:l.a,GlTooltip:d.a},props:{avatars:{type:Array,required:!0},maxVisible:{type:Number,required:!0},avatarSize:{type:Number,required:!0,validator:e=>s.j.includes(e)},collapsed:{type:Boolean,required:!1,default:!1},badgeSrOnlyText:{type:String,required:!0},badgeTooltipProp:{type:String,required:!1,default:""},badgeTooltipMaxChars:{type:Number,required:!1,default:null}},computed:{hiddenAvatars(){return this.avatars.slice(this.maxVisible)},collapsable(){return this.hiddenAvatars.length>0},visibleAvatars(){return this.collapsed?this.avatars.slice(0,this.maxVisible):this.avatars},badgeSize(){return{16:"sm",24:"md",32:"lg"}[this.avatarSize]||"lg"},badgeLabel(){return"+"+this.hiddenAvatars.length},badgeTooltipTitle(){if(!this.badgeTooltipProp)return"";const e=this.hiddenAvatars.map(e=>o()(e,this.badgeTooltipProp,"").trim()).join(", ");return this.badgeTooltipMaxChars?r()(e,{length:this.badgeTooltipMaxChars}):e}}};const p=u()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-avatars-inline",class:"gl-avatars-inline-"+e.badgeSize},[e._l(e.visibleAvatars,(function(t,i){return n("div",{key:i,staticClass:"gl-avatars-inline-child"},[e._t("avatar",(function(){return[n("gl-avatar",e._b({attrs:{size:e.avatarSize}},"gl-avatar",t,!1))]}),{avatar:t})],2)})),e._v(" "),e.collapsed&&e.collapsable?n("div",{staticClass:"gl-avatars-inline-child"},[e.badgeTooltipProp?n("gl-tooltip",{attrs:{target:function(){return e.$refs.badge}}},[e._v("\n      "+e._s(e.badgeTooltipTitle)+"\n    ")]):e._e(),e._v(" "),n("span",{ref:"badge",class:["gl-avatars-inline-badge",e.badgeSize],attrs:{"data-testid":"collapsed-avatars-badge","aria-hidden":"true"}},[e._v("\n      "+e._s(e.badgeLabel)+"\n    ")]),e._v(" "),n("span",{staticClass:"gl-sr-only",attrs:{"data-testid":"badge-sr-only-text"}},[e._v(e._s(e.badgeSrOnlyText))])],1):e._e()],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0)},ITU6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const i=["heads","tags"],r=function(e){if(!e)return null;const t=i.find((function(t){return t===(null==e?void 0:e.toLowerCase())}));return(null==t?void 0:t.toUpperCase())||null}},J7NB:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},Ly6N:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function({newWorkspacePath:e}={}){return{newWorkspacePath:e}}},Mq5L:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("3hkr"),r=n("CU79"),a=n("n6Wd"),o=n("oTzT"),s=n("ZdEn"),l=n("gZSI"),d=n("VuSA"),c=n("J6+d"),u=n("h4pE");const h=Object(s.d)(i.z,r.L),p="__bv_modal_directive__",m=e=>{let{modifiers:t={},arg:n,value:i}=e;return Object(l.m)(i)?i:Object(l.m)(n)?n:Object(d.h)(t).reverse()[0]},f=e=>e&&Object(o.v)(e,".dropdown-menu > li, li.nav-item")&&Object(o.A)("a, button",e)||e,g=e=>{e&&"BUTTON"!==e.tagName&&(Object(o.o)(e,"role")||Object(o.C)(e,"role","button"),"A"===e.tagName||Object(o.o)(e,"tabindex")||Object(o.C)(e,"tabindex","0"))},b=e=>{const t=e[p]||{},n=t.trigger,i=t.handler;n&&i&&(Object(s.a)(n,"click",i,r.R),Object(s.a)(n,"keydown",i,r.R),Object(s.a)(e,"click",i,r.R),Object(s.a)(e,"keydown",i,r.R)),delete e[p]},v=(e,t,n)=>{const i=e[p]||{},l=m(t),d=f(e);l===i.target&&d===i.trigger||(b(e),((e,t,n)=>{const i=m(t),l=f(e);if(i&&l){const d=e=>{const r=e.currentTarget;if(!Object(o.r)(r)){const o=e.type,s=e.keyCode;"click"!==o&&("keydown"!==o||s!==a.c&&s!==a.h)||Object(c.a)(Object(u.a)(n,t)).$emit(h,i,r)}};e[p]={handler:d,target:i,trigger:l},g(l),Object(s.b)(l,"click",d,r.R),"BUTTON"!==l.tagName&&"button"===Object(o.h)(l,"role")&&Object(s.b)(l,"keydown",d,r.R)}})(e,t,n)),g(d)},k={inserted:v,updated:()=>{},componentUpdated:v,unbind:b}},Ny1i:function(e,t,n){"use strict";var i=n("l5WF"),r=n("PrLL"),a=n("2ibD"),o=n("3twG"),s=n("/lV4"),l=n("O4EH");const d=Object(s.__)("Directory name"),c=Object(s.__)("Add new directory");var u={components:{GlFormGroup:i.a,GlFormInput:r.a,CommitChangesModal:l.a},i18n:{DIR_LABEL:d,COMMIT_MESSAGE:c},props:{modalId:{type:String,required:!0},targetBranch:{type:String,required:!0},originalBranch:{type:String,required:!0},path:{type:String,required:!0},canPushCode:{type:Boolean,required:!0},canPushToBranch:{type:Boolean,required:!0}},data:()=>({dir:null,loading:!1,error:null}),computed:{isValid(){return Boolean(this.dir)}},methods:{submitForm(e){var t=this;return this.loading=!0,this.error=null,e.append("dir_name",this.dir),e.has("branch_name")||e.append("branch_name",this.originalBranch),a.a.post(this.path,e).then((function(e){Object(o.T)(e.data.filePath)})).catch((function({response:e}){var n;t.error=null==e||null===(n=e.data)||void 0===n?void 0:n.error})).finally((function(){t.loading=!1}))}}},h=n("tBpV"),p=Object(h.a)(u,(function(){var e=this,t=e._self._c;return t("commit-changes-modal",e._g(e._b({ref:e.modalId,attrs:{loading:e.loading,error:e.error,valid:e.isValid,"modal-id":e.modalId,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"commit-message":e.$options.i18n.COMMIT_MESSAGE,"target-branch":e.targetBranch,"original-branch":e.originalBranch},on:{"submit-form":e.submitForm},scopedSlots:e._u([{key:"body",fn:function(){return[t("gl-form-group",{attrs:{label:e.$options.i18n.DIR_LABEL,"label-for":"dir_name"}},[t("gl-form-input",{attrs:{id:"dir_name",disabled:e.loading,name:"dir_name"},model:{value:e.dir,callback:function(t){e.dir=t},expression:"dir"}})],1)]},proxy:!0}])},"commit-changes-modal",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null);t.a=p.exports},O4EH:function(e,t,n){"use strict";n("aFm2"),n("z6RN"),n("R9qC");var i=n("dsWN"),r=n("1cpz"),a=n("SeSR"),o=n("l5WF"),s=n("PrLL"),l=n("OQy4"),d=n("4wRe"),c=n("47in"),u=n("F6ad"),h=n("30su"),p=n("MV2A"),m=n("Qhxq"),f=n("/lV4"),g=n("U8h0"),b=n("qLpH"),v=n("uQq6"),k={csrf:m.a,components:{GlAlert:i.a,GlModal:r.a,GlFormCheckbox:a.a,GlFormGroup:o.a,GlFormInput:s.a,GlFormRadio:l.a,GlFormRadioGroup:d.a,GlFormTextarea:c.a,GlForm:u.a,GlSprintf:h.a,GlLink:p.a},i18n:{BRANCH:Object(f.__)("Branch"),BRANCH_IN_FORK_MESSAGE:Object(f.__)("GitLab will create a branch in your fork and start a merge request."),CURRENT_BRANCH_LABEL:Object(f.__)("Commit to the current %{branchName} branch"),COMMIT_CHANGES:Object(f.__)("Commit changes"),COMMIT_IN_BRANCH_MESSAGE:Object(f.__)("Your changes can be committed to %{branchName} because a merge request is open."),COMMIT_IN_DEFAULT_BRANCH:Object(f.__)("GitLab will create a default branch, %{branchName}, and commit your changes."),COMMIT_LABEL:Object(f.__)("Commit message"),COMMIT_MESSAGE_HINT:Object(f.__)("Try to keep the first line under 52 characters and the others under 72."),NEW_BRANCH:Object(f.__)("New branch"),NEW_BRANCH_LABEl:Object(f.__)("Commit to a new branch"),CREATE_MR_LABEL:Object(f.__)("Create a merge request for this change"),LFS_WARNING_TITLE:Object(f.__)("The file you're about to delete is tracked by LFS"),LFS_WARNING_PRIMARY_CONTENT:Object(f.s__)("BlobViewer|If you delete the file, it will be removed from the branch %{branch}."),LFS_WARNING_SECONDARY_CONTENT:Object(f.s__)("BlobViewer|This file will still take up space in your LFS storage. %{linkStart}How do I remove tracked objects from Git LFS?%{linkEnd}"),LFS_CONTINUE_TEXT:Object(f.__)("Continue"),LFS_CANCEL_TEXT:Object(f.__)("Cancel"),NO_PERMISSION_TO_COMMIT_MESSAGE:Object(f.__)("You don't have permission to commit to %{branchName}. %{linkStart}Learn more.%{linkEnd}"),SECONDARY_OPTIONS_TEXT:Object(f.__)("Cancel")},directives:{validation:Object(g.a)()},props:{modalId:{type:String,required:!0},commitMessage:{type:String,required:!0},targetBranch:{type:String,required:!0},originalBranch:{type:String,required:!0},canPushCode:{type:Boolean,required:!0},canPushToBranch:{type:Boolean,required:!0},emptyRepo:{type:Boolean,required:!1,default:!1},isUsingLfs:{type:Boolean,required:!1,default:!1},branchAllowsCollaboration:{type:Boolean,required:!1,default:!1},valid:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},error:{type:String,required:!1,default:null}},data(){return{lfsWarningDismissed:!1,createNewBranch:!1,createNewMr:!0,form:{state:!1,showValidation:!1,fields:{commit_message:Object(g.c)({value:this.commitMessage}),branch_name:Object(g.c)({value:this.targetBranch,skipValidation:!this.canPushCode||this.canPushToBranch})}}}},computed:{primaryOptions(){const e={text:this.$options.i18n.COMMIT_CHANGES,attributes:{variant:"confirm",loading:this.loading,disabled:this.loading||!this.form.state||!this.valid,"data-testid":"commit-change-modal-commit-button"}},t={text:this.$options.i18n.LFS_CONTINUE_TEXT,attributes:{variant:"confirm"}};return this.showLfsWarning?t:e},cancelOptions(){return{text:this.$options.i18n.SECONDARY_OPTIONS_TEXT,attributes:{disabled:this.loading}}},showHint(){const e=this.form.fields.commit_message.value.trim().split("\n"),[t,...n]=e,i=t.length>v.c,r=Boolean(n.length)&&n.some((function(e){return e.length>v.b}));return!this.form.fields.commit_message.feedback&&(i||r)},showLfsWarning(){return this.isUsingLfs&&!this.lfsWarningDismissed},title(){return this.showLfsWarning?this.$options.i18n.LFS_WARNING_TITLE:this.$options.i18n.COMMIT_CHANGES},showForm(){return!this.isUsingLfs||this.isUsingLfs&&this.lfsWarningDismissed}},methods:{show(){this.$refs[this.modalId].show(),this.lfsWarningDismissed=!1},cancel(){this.$refs[this.modalId].hide()},async handleContinueLfsWarning(){var e;this.lfsWarningDismissed=!0,await this.$nextTick(),null===(e=this.$refs.message)||void 0===e||e.$el.focus()},async handlePrimaryAction(e){if(window.onbeforeunload=null,e.preventDefault(),this.showLfsWarning)return void await this.handleContinueLfsWarning();if(this.form.showValidation=!0,!this.form.state)return;this.form.showValidation=!1;const t=this.$refs.form.$el,n=new FormData(t);this.$emit("submit-form",n)}},deleteLfsHelpPath:Object(b.a)("topics/git/lfs/_index",{anchor:"delete-a-git-lfs-file-from-repository-history"}),protectedBranchHelpPath:Object(b.a)("user/project/repository/branches/protected")},y=n("tBpV"),w=Object(y.a)(k,(function(){var e=this,t=e._self._c;return t("gl-modal",e._b({ref:e.modalId,attrs:{"modal-id":e.modalId,title:e.title,"data-testid":"commit-change-modal","action-primary":e.primaryOptions,"action-cancel":e.cancelOptions},on:{primary:e.handlePrimaryAction}},"gl-modal",e.$attrs,!1),[e._t("body"),e._v(" "),e.showLfsWarning?t("div",[t("p",[t("gl-sprintf",{attrs:{message:e.$options.i18n.LFS_WARNING_PRIMARY_CONTENT},scopedSlots:e._u([{key:"branch",fn:function(){return[t("code",[e._v(e._s(e.targetBranch))])]},proxy:!0}],null,!1,4149292315)})],1),e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.$options.i18n.LFS_WARNING_SECONDARY_CONTENT},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.$options.deleteLfsHelpPath}},[e._v(e._s(n))])]}}],null,!1,888329688)})],1)]):e._e(),e._v(" "),e.showForm?t("div",[t("gl-form",{ref:"form",attrs:{novalidate:""}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),e._t("form-fields"),e._v(" "),t("gl-form-group",{attrs:{label:e.$options.i18n.COMMIT_LABEL,"label-for":"commit_message","invalid-feedback":e.form.fields.commit_message.feedback}},[t("gl-form-textarea",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],ref:"message",attrs:{id:"commit_message",name:"commit_message","no-resize":"","data-testid":"commit-message-field",state:e.form.fields.commit_message.state,disabled:e.loading,required:""},model:{value:e.form.fields.commit_message.value,callback:function(t){e.$set(e.form.fields.commit_message,"value",t)},expression:"form.fields['commit_message'].value"}}),e._v(" "),e.error?t("p",{staticClass:"gl-mt-3 gl-text-red-600",attrs:{"data-testid":"error"}},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.showHint?t("p",{staticClass:"form-text gl-text-subtle",attrs:{"data-testid":"hint"}},[e._v("\n          "+e._s(e.$options.i18n.COMMIT_MESSAGE_HINT)+"\n        ")]):e._e()],1),e._v(" "),e.emptyRepo?[t("input",{staticClass:"js-branch-name",attrs:{type:"hidden",name:"branch_name"},domProps:{value:e.originalBranch}}),e._v(" "),e.emptyRepo?t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.COMMIT_IN_DEFAULT_BRANCH},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,1261349578)})],1):e._e()]:[t("input",{attrs:{type:"hidden",name:"original_branch"},domProps:{value:e.originalBranch}}),e._v(" "),e.createNewMr?t("input",{attrs:{type:"hidden",name:"create_merge_request",value:"1"}}):e._e(),e._v(" "),e.canPushCode?[e.canPushToBranch?t("gl-form-group",{attrs:{label:e.$options.i18n.BRANCH,"label-for":"branch_selection"}},[t("gl-form-radio-group",{attrs:{name:"branch_selection",label:e.$options.i18n.BRANCH},model:{value:e.createNewBranch,callback:function(t){e.createNewBranch=t},expression:"createNewBranch"}},[t("gl-form-radio",{attrs:{value:!1,disabled:e.loading}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.CURRENT_BRANCH_LABEL},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("code",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,2214757140)})],1),e._v(" "),t("gl-form-radio",{attrs:{value:!0,disabled:e.loading}},[e._v("\n                "+e._s(e.$options.i18n.NEW_BRANCH_LABEl)+"\n              ")])],1),e._v(" "),e.createNewBranch?t("div",{staticClass:"gl-ml-6"},[t("gl-form-group",{attrs:{"invalid-feedback":e.form.fields.branch_name.feedback}},[t("gl-form-input",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],staticClass:"gl-mt-2",attrs:{state:e.form.fields.branch_name.state,disabled:e.loading,name:"branch_name",placeholder:e.__("example-branch-name"),required:""},model:{value:e.form.fields.branch_name.value,callback:function(t){e.$set(e.form.fields.branch_name,"value",t)},expression:"form.fields['branch_name'].value"}})],1),e._v(" "),e.createNewBranch?t("gl-form-checkbox",{staticClass:"gl-mt-4",model:{value:e.createNewMr,callback:function(t){e.createNewMr=t},expression:"createNewMr"}},[t("span",[e._v("\n                  "+e._s(e.$options.i18n.CREATE_MR_LABEL)+"\n                ")])]):e._e()],1):e._e()],1):[t("gl-form-group",{attrs:{label:e.$options.i18n.NEW_BRANCH,"label-for":"branch_selection","invalid-feedback":e.form.fields.branch_name.feedback}},[t("label",{staticClass:"gl-font-normal gl-text-subtle",attrs:{for:"branchNameInput"}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.NO_PERMISSION_TO_COMMIT_MESSAGE},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("code",{staticClass:"gl-text-subtle"},[e._v(e._s(e.originalBranch))])]},proxy:!0},{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.$options.protectedBranchHelpPath}},[e._v(e._s(n))])]}}],null,!1,3243504882)})],1),e._v(" "),t("gl-form-input",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],attrs:{id:"branchNameInput",state:e.form.fields.branch_name.state,disabled:e.loading,name:"branch_name",required:"",placeholder:e.__("example-branch-name")},model:{value:e.form.fields.branch_name.value,callback:function(t){e.$set(e.form.fields.branch_name,"value",t)},expression:"form.fields['branch_name'].value"}})],1),e._v(" "),t("gl-form-checkbox",{staticClass:"gl-mt-4",model:{value:e.createNewMr,callback:function(t){e.createNewMr=t},expression:"createNewMr"}},[t("span",[e._v("\n                "+e._s(e.$options.i18n.CREATE_MR_LABEL)+"\n              ")])])]]:[e.branchAllowsCollaboration?t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.COMMIT_IN_BRANCH_MESSAGE},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,1261349578)})],1):t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[e._v(e._s(e.$options.i18n.BRANCH_IN_FORK_MESSAGE))])]]],2)],1):e._e()],2)}),[],!1,null,null,null);t.a=w.exports},OGDS:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TreeEntry"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flatPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPaginatedTree"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nextPageCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"refType"}},type:{kind:"NamedType",name:{kind:"Name",value:"RefType"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paginatedTree"},arguments:[{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"path"}}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}},{kind:"Argument",name:{kind:"Name",value:"refType"},value:{kind:"Variable",name:{kind:"Name",value:"refType"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"nextPageCursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeEntry"},directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"submodules"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeEntry"},directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"treeUrl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeEntry"},directives:[]},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lfsOid"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1063}};n.loc.source={body:"fragment TreeEntry on Entry {\n  __typename\n  id\n  sha\n  name\n  flatPath\n  type\n}\n\nquery getPaginatedTree(\n  $projectPath: ID!\n  $path: String\n  $ref: String!\n  $nextPageCursor: String\n  $refType: RefType\n) {\n  project(fullPath: $projectPath) {\n    id\n    __typename\n    repository {\n      __typename\n      paginatedTree(path: $path, ref: $ref, refType: $refType, after: $nextPageCursor) {\n        __typename\n        pageInfo {\n          __typename\n          endCursor\n          startCursor\n          hasNextPage\n        }\n        nodes {\n          __typename\n          trees {\n            __typename\n            nodes {\n              ...TreeEntry\n              webPath\n            }\n          }\n          submodules {\n            __typename\n            nodes {\n              ...TreeEntry\n              webUrl\n              treeUrl\n            }\n          }\n          blobs {\n            __typename\n            nodes {\n              ...TreeEntry\n              mode\n              webPath\n              lfsOid\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function a(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TreeEntry=a(n,"TreeEntry"),e.exports.getPaginatedTree=a(n,"getPaginatedTree")},OR9K:function(e,t,n){"use strict";n("LdIe"),n("z6RN"),n("PTOk"),n("aFm2"),n("R9qC");var i=n("MV2A"),r=n("30su"),a=n("BXmR"),o=n("/lV4");const s="image/*",l=/image\/.+/;var d={components:{GlLink:i.a,GlSprintf:r.a,GlAnimatedUploadIcon:a.a},props:{displayAsCard:{type:Boolean,required:!1,default:!1},enableDragBehavior:{type:Boolean,required:!1,default:!1},uploadSingleMessage:{type:String,required:!1,default:Object(o.__)("Drop or %{linkStart}upload%{linkEnd} file to attach")},uploadMultipleMessage:{type:String,required:!1,default:Object(o.__)("Drop or %{linkStart}upload%{linkEnd} files to attach")},dropToStartMessage:{type:String,required:!1,default:Object(o.__)("Drop your files to start your upload.")},isFileValid:{type:Function,required:!1,default:function({type:e}){return(e.match(l)||[]).length>0}},validFileMimetypes:{type:Array,required:!1,default:function(){return[s]}},singleFileSelection:{type:Boolean,required:!1,default:!1},inputFieldName:{type:String,required:!1,default:"upload_file"},shouldUpdateInputOnFileDrop:{type:Boolean,required:!1,default:!1},showUploadDesignOverlay:{type:Boolean,required:!1,default:!1},uploadDesignOverlayText:{type:String,required:!1,default:""},validateDesignUploadOnDragover:{type:Boolean,required:!1,default:!1},acceptDesignFormats:{type:String,required:!1,default:""},hideUploadTextOnDragging:{type:Boolean,required:!1,default:!1}},data:()=>({dragCounter:0,isDragDataValid:!0,animateUploadIcon:!1}),computed:{dragging(){return 0!==this.dragCounter},iconStyles(){return{class:this.displayAsCard?"gl-mb-3":"gl-mr-3"}},showDropzoneOverlay(){return this.validateDesignUploadOnDragover&&this.acceptDesignFormats?this.dragging&&this.isDragDataValid&&!this.enableDragBehavior:this.dragging&&!this.enableDragBehavior}},methods:{isValidUpload(e){return e.every(this.isFileValid)},isValidDragDataType:({dataTransfer:e})=>Boolean(e&&e.types.some((function(e){return"Files"===e}))),ondrop({dataTransfer:e={}}){if(this.dragCounter=0,!this.isDragDataValid)return;const{files:t}=e;if(this.isValidUpload(Array.from(t))){if(this.shouldUpdateInputOnFileDrop){if(this.singleFileSelection&&t.length>1)return void this.$emit("error");this.$refs.fileUpload.files=t}this.$emit("change",this.singleFileSelection?t[0]:t)}else this.$emit("error")},ondragenter(e){this.$emit("dragenter",e),this.dragCounter+=1,this.isDragDataValid=this.isValidDragDataType(e)},ondragover({dataTransfer:e}){var t=this;this.validateDesignUploadOnDragover&&(this.isDragDataValid=Array.from(e.items).some((function(e){return t.acceptDesignFormats.includes(e.type)})))},ondragleave(e){this.$emit("dragleave",e),this.dragCounter-=1},openFileUpload(){this.$refs.fileUpload.click()},onFileInputChange(e){this.isValidUpload(Array.from(e.target.files))?this.$emit("change",this.singleFileSelection?e.target.files[0]:e.target.files):this.$emit("error")},onMouseEnter(){this.animateUploadIcon=!0},onMouseLeave(){this.animateUploadIcon=!1}}},c=n("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-w-full",class:{"gl-relative":!e.showUploadDesignOverlay},on:{dragstart:function(e){e.preventDefault(),e.stopPropagation()},dragend:function(e){e.preventDefault(),e.stopPropagation()},dragover:function(t){return t.preventDefault(),t.stopPropagation(),e.ondragover.apply(null,arguments)},dragenter:function(t){return t.preventDefault(),t.stopPropagation(),e.ondragenter.apply(null,arguments)},dragleave:function(t){return t.preventDefault(),t.stopPropagation(),e.ondragleave.apply(null,arguments)},drop:function(t){return t.preventDefault(),t.stopPropagation(),e.ondrop.apply(null,arguments)}}},[e._t("default",(function(){return[t("button",{staticClass:"upload-dropzone-card upload-dropzone-border gl-mb-0 gl-h-full gl-w-full gl-items-center gl-justify-center gl-bg-default gl-px-5 gl-py-4",attrs:{type:"button"},on:{click:e.openFileUpload,mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[t("div",{staticClass:"gl-flex gl-items-center gl-justify-center gl-text-center",class:{"gl-flex-col":e.displayAsCard},attrs:{"data-testid":"dropzone-area"}},[t("gl-animated-upload-icon",{class:e.iconStyles.class,attrs:{"is-on":e.animateUploadIcon||e.hideUploadTextOnDragging}}),e._v(" "),e.hideUploadTextOnDragging&&e.dragging?e._e():t("p",{staticClass:"gl-mb-0",attrs:{"data-testid":"upload-text"}},[e._t("upload-text",(function(){return[t("gl-sprintf",{attrs:{message:e.singleFileSelection?e.uploadSingleMessage:e.uploadMultipleMessage},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{on:{click:function(t){return t.stopPropagation(),e.openFileUpload.apply(null,arguments)}}},[e._v(e._s(n))])]}}],null,!1,40519920)})]}),{openFileUpload:e.openFileUpload})],2),e._v(" "),e.hideUploadTextOnDragging&&e.dragging?t("span",[e._v("\n          "+e._s(e.s__("DesignManagement|Drop your images to start the upload."))+"\n        ")]):e._e()],1)]),e._v(" "),t("input",{ref:"fileUpload",staticClass:"hide",attrs:{type:"file",name:e.inputFieldName,accept:e.validFileMimetypes,multiple:!e.singleFileSelection},on:{change:e.onFileInputChange}})]})),e._v(" "),t("transition",{attrs:{name:"upload-dropzone-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropzoneOverlay,expression:"showDropzoneOverlay"}],staticClass:"gl-absolute gl-flex gl-h-full gl-w-full gl-items-center gl-justify-center gl-p-4",class:{"design-upload-dropzone-overlay gl-z-200":e.showUploadDesignOverlay&&e.isDragDataValid,"upload-dropzone-overlay upload-dropzone-border":!e.showUploadDesignOverlay}},[e.showUploadDesignOverlay?[e.isDragDataValid&&!e.hideUploadTextOnDragging?t("div",{staticClass:"gl-absolute gl-bottom-6 gl-flex gl-items-center gl-rounded-base gl-bg-feedback-strong gl-px-3 gl-py-2 gl-text-feedback-strong gl-shadow-sm",attrs:{"data-testid":"design-upload-overlay"}},[t("gl-animated-upload-icon",{attrs:{"is-on":!0,name:"upload"}}),e._v(" "),t("span",{staticClass:"gl-ml-2"},[e._v(e._s(e.uploadDesignOverlayText))])],1):e._e()]:[e.isDragDataValid?t("div",{staticClass:"gl-max-w-1/2 gl-text-center"},[e._t("valid-drag-data-slot",(function(){return[t("h3",{class:{"gl-inline gl-text-base":!e.displayAsCard}},[e._v("\n              "+e._s(e.__("Incoming!"))+"\n            ")]),e._v(" "),t("span",[e._v(e._s(e.dropToStartMessage))])]}))],2):t("div",{staticClass:"gl-max-w-1/2 gl-text-center"},[e._t("invalid-drag-data-slot",(function(){return[t("h3",{class:{"gl-inline gl-text-base":!e.displayAsCard}},[e._v("\n              "+e._s(e.__("Oh no!"))+"\n            ")]),e._v(" "),t("span",[e._v(e._s(e.__("You are trying to upload something other than an image. Please upload a .png, .jpg, .jpeg, .gif, .bmp, .tiff or .ico.")))])]}))],2)]],2)])],2)}),[],!1,null,null,null);t.a=u.exports},QRtj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("v+Mp");const r=function(){const e=document.querySelector(".shortcuts-find-file");e&&e.addEventListener("click",i.default.focusSearchFile)}},SQMQ:function(e,t,n){var i=n("X/Qz"),r=n("voGz"),a=n("uLMv"),o=n("XCkn"),s=n("ltZm"),l=n("0Zrb"),d=n("/t47"),c=n("NDsS"),u=n("rhmX"),h=/\w*$/;e.exports=function(e,t){var n=30,p="...";if(o(t)){var m="separator"in t?t.separator:m;n="length"in t?c(t.length):n,p="omission"in t?i(t.omission):p}var f=(e=u(e)).length;if(a(e)){var g=d(e);f=g.length}if(n>=f)return e;var b=n-l(p);if(b<1)return p;var v=g?r(g,0,b).join(""):e.slice(0,b);if(void 0===m)return v+p;if(g&&(b+=v.length-b),s(m)){if(e.slice(b).search(m)){var k,y=v;for(m.global||(m=RegExp(m.source,u(h.exec(m))+"g")),m.lastIndex=0;k=m.exec(y);)var w=k.index;v=v.slice(0,void 0===w?b:w)}}else if(e.indexOf(i(m),b)!=b){var _=v.lastIndexOf(m);_>-1&&(v=v.slice(0,_))}return v+p}},SXCz:function(e,t,n){"use strict";n("UezY"),n("z6RN"),n("hG7+"),n("RFHG"),n("xuo1"),n("3UXl"),n("iyoE");var i=n("lbc5"),r=n("Bo17"),a=n("MV2A"),o=n("Mq5L"),s=n("o5TZ"),l=n.n(s),d=n("3twG"),c=n("GuZl"),u=n("/lV4"),h=n("jEr0"),p=n("h6C7"),m=n.n(p),f=n("FIKT"),g=n.n(f),b=n("CSd6"),v=n("Ny1i"),k=n("rK/1"),y=n("sHIo"),w=n("8Igx");var _={components:{ClipboardButton:k.a,GlBreadcrumb:i.a,GlDisclosureDropdown:r.a,UploadBlobModal:b.a,NewDirectoryModal:v.a,GlLink:a.a},apollo:{projectShortPath:{query:g.a},projectPath:{query:m.a},userPermissions:{query:l.a,variables(){return{projectPath:this.projectPath||this.projectRootPath}},update:function(e){var t;return null===(t=e.project)||void 0===t?void 0:t.userPermissions},error(e){Object(w.a)("Failed to fetch user permissions. See exception details for more information.",e)}}},directives:{GlModal:o.a},mixins:[h.a,Object(y.a)()],inject:{projectRootPath:{default:""},isBlobView:{default:!1}},props:{currentPath:{type:String,required:!1,default:""},refType:{type:String,required:!1,default:null},canCollaborate:{type:Boolean,required:!1,default:!1},canEditTree:{type:Boolean,required:!1,default:!1},canPushCode:{type:Boolean,required:!1,default:!1},canPushToBranch:{type:Boolean,required:!1,default:!1},selectedBranch:{type:String,required:!1,default:""},originalBranch:{type:String,required:!1,default:""},newBranchPath:{type:String,required:!1,default:null},newTagPath:{type:String,required:!1,default:null},newBlobPath:{type:String,required:!1,default:null},forkNewBlobPath:{type:String,required:!1,default:null},forkNewDirectoryPath:{type:String,required:!1,default:null},forkUploadBlobPath:{type:String,required:!1,default:null},uploadPath:{type:String,required:!1,default:""},newDirPath:{type:String,required:!1,default:""}},uploadBlobModalId:"modal-upload-blob",newDirectoryModalId:"modal-new-directory",data:()=>({projectShortPath:"",projectPath:"",userPermissions:{}}),computed:{currentDirectoryPath(){const e=this.currentPath.split("/").filter((function(e){return e}));return this.isBlobPath&&e.pop(),Object(d.A)(...e)},pathLinks(){var e=this;return this.currentPath.split("/").filter((function(e){return""!==e})).reduce((function(t,n,i){const r=Object(d.A)(i>0?t[i].path:"",Object(d.k)(n)),a=i===e.currentPath.split("/").length-1,o=e.isBlobPath&&a?"/-/blob/"+Object(d.A)(e.escapedRef,r):"/-/tree/"+Object(d.A)(e.escapedRef,r);return t.concat({name:n,path:r,to:e.isBlobView?null:Object(d.e)({path:o,refType:e.refType}),url:Object(d.e)({path:Object(d.A)(e.projectPath,o),refType:e.refType})})}),[{name:this.projectShortPath,path:"/",to:this.isBlobView?null:Object(d.e)({path:Object(d.A)("/-/tree",this.escapedRef),refType:this.refType}),url:Object(d.e)({path:Object(d.A)(this.projectPath,"/-/tree",this.escapedRef),refType:this.refType})}])},canCreateMrFromFork(){var e,t;return(null===(e=this.userPermissions)||void 0===e?void 0:e.forkProject)&&(null===(t=this.userPermissions)||void 0===t?void 0:t.createMergeRequestIn)},hasPushCodePermission(){var e;return null===(e=this.userPermissions)||void 0===e?void 0:e.pushCode},showUploadModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},showNewDirectoryModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},dropdownDirectoryItems(){var e=this;return this.canEditTree?[{text:Object(u.__)("New file"),href:Object(d.A)(this.newBlobPath,this.currentPath?encodeURIComponent(this.currentPath):""),extraAttrs:{"data-testid":"new-file-menu-item"}},{text:Object(u.__)("Upload file"),action:function(){return e.$root.$emit(c.c,"modal-upload-blob")}},{text:Object(u.__)("New directory"),action:function(){return e.$root.$emit(c.c,"modal-new-directory")}}]:this.canCreateMrFromFork?[{text:Object(u.__)("New file"),href:this.forkNewBlobPath,extraAttrs:{"data-method":"post"}},{text:Object(u.__)("Upload file"),href:this.forkUploadBlobPath,extraAttrs:{"data-method":"post"}},{text:Object(u.__)("New directory"),href:this.forkNewDirectoryPath,extraAttrs:{"data-method":"post"}}]:[]},dropdownRepositoryItems(){return this.hasPushCodePermission?[{text:Object(u.__)("New branch"),href:this.newBranchPath},{text:Object(u.__)("New tag"),href:this.newTagPath}]:[]},dropdownItems(){var e,t;return this.isBlobPath?[]:this.canCollaborate||this.canCreateMrFromFork?[(null===(e=this.dropdownDirectoryItems)||void 0===e?void 0:e.length)&&{name:Object(u.__)("This directory"),items:this.dropdownDirectoryItems},(null===(t=this.dropdownRepositoryItems)||void 0===t?void 0:t.length)&&{name:Object(u.__)("This repository"),items:this.dropdownRepositoryItems}].filter(Boolean):[]},isBlobPath(){return"blobPath"===this.$route.name||"blobPathDecoded"===this.$route.name},renderAddToTreeDropdown(){return this.dropdownItems.length&&!this.glFeatures.directoryCodeDropdownUpdates},newDirectoryPath(){return Object(d.A)(this.newDirPath,this.currentPath)},gfmCopyText(){return`\`${this.currentPath}\``},doesCurrentPathExist(){var e;return null===(e=this.currentPath)||void 0===e?void 0:e.trim().length},crumbs(){return this.pathLinks.map((function({name:e,url:t,...n}){return{text:e,href:t,...n}}))}},methods:{isLast(e){return e===this.pathLinks.length-1}}},S=n("tBpV"),P=Object(S.a)(_,(function(){var e=this,t=e._self._c;return e.glFeatures.directoryCodeDropdownUpdates?t("div",{staticClass:"repo-breadcrumb gl-flex gl-w-full gl-justify-between sm:gl-w-auto"},[t("gl-breadcrumb",{staticClass:"breadcrumb-item",attrs:{items:e.crumbs,"data-current-path":e.currentDirectoryPath,"aria-label":e.__("Files breadcrumb"),size:"md"}}),e._v(" "),e.doesCurrentPathExist?t("clipboard-button",{attrs:{text:e.currentPath,gfm:e.gfmCopyText,title:e.__("Copy file path"),category:"tertiary","css-class":"gl-mx-2"}}):e._e()],1):t("nav",{staticClass:"js-repo-breadcrumbs gl-flex",attrs:{"aria-label":e.__("Files breadcrumb"),"data-current-path":e.currentDirectoryPath}},[t("ol",{staticClass:"breadcrumb repo-breadcrumb"},[e._l(e.pathLinks,(function(n,i){return t("li",{key:i,staticClass:"breadcrumb-item"},[t("gl-link",{attrs:{to:n.to,href:n.url,"aria-current":e.isLast(i)?"page":null}},[e.isLast(i)?t("strong",[e._v(e._s(n.name))]):t("span",[e._v(e._s(n.name))])])],1)})),e._v(" "),e.renderAddToTreeDropdown?t("li",{staticClass:"breadcrumb-item"},[t("gl-disclosure-dropdown",{attrs:{"toggle-text":e.__("Add to tree"),"toggle-class":"add-to-tree gl-ml-2","data-testid":"add-to-tree","text-sr-only":"",icon:"plus",items:e.dropdownItems}})],1):e._e()],2),e._v(" "),e.showUploadModal?t("upload-blob-modal",{attrs:{"modal-id":e.$options.uploadBlobModalId,"commit-message":e.__("Upload New File"),"target-branch":e.selectedBranch,"original-branch":e.originalBranch,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,path:e.uploadPath}}):e._e(),e._v(" "),e.showNewDirectoryModal?t("new-directory-modal",{attrs:{"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"modal-id":e.$options.newDirectoryModalId,"target-branch":e.selectedBranch,"original-branch":e.originalBranch,path:e.newDirectoryPath}}):e._e()],1)}),[],!1,null,null,null);t.a=P.exports},U6io:function(e,t){!function(e){var t=e.prototype.stopCallback;e.prototype.stopCallback=function(e,n,i){return!!this.paused||t.call(this,e,n,i)},e.prototype.pause=function(){this.paused=!0},e.prototype.unpause=function(){this.paused=!1},e.init()}(Mousetrap)},U8h0:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));n("B++/"),n("z6RN"),n("47t/"),n("LdIe"),n("PTOk"),n("++os"),n("whUo"),n("3UXl"),n("iyoE");var i=n("/lV4");function r({binding:e,vnode:t}){return e.instance?e.instance:t.context}const a={valueMissing:{isInvalid:function(e){var t;return null===(t=e.validity)||void 0===t?void 0:t.valueMissing},message:Object(i.__)("Please fill out this field.")},urlTypeMismatch:{isInvalid:function(e){var t;return"url"===e.type&&(null===(t=e.validity)||void 0===t?void 0:t.typeMismatch)},message:Object(i.__)("Please enter a valid URL format, ex: http://www.example.com/home")}},o=function(e){const{target:t}=e,n=t.querySelector("input:invalid");n&&n.focus()},s=function(e){return e.querySelector("input")||e},l=function(e){return function({el:t,form:n,reportInvalidInput:i=!1}){const{name:r}=t;if(!r)return void 0;const a=n.fields[r],o=t.checkValidity();a.state=i?o:o||null,a.feedback=i?function(e,t){const n=Object.values(e).find((function(e){return e.isInvalid(t)}));let i=null;return n&&(i=t.getAttribute("validation-message")),i||(null==n?void 0:n.message)||t.validationMessage}(e,t):"",n.state=function(e){return Object.values(e.fields).every((function({state:e}){return!0===e}))}(n)}};function d(e={}){const t={...a,...e},n=new WeakMap;return{inserted(e,i,a){const{arg:d}=i,c=s(e),{form:u}=c,h=r({binding:i,vnode:a}),p=l(t),m={validate:p,isTouched:!1,isBlurred:!1};n.set(c,m),c.addEventListener("input",(function e(){m.isTouched=!0,c.removeEventListener("input",e)})),c.addEventListener("blur",(function e({target:t}){m.isTouched&&(m.isBlurred=!0,p({el:t,form:h.form,reportInvalidInput:!0}),c.removeEventListener("blur",e))})),u&&u.addEventListener("submit",o),p({el:c,form:h.form,reportInvalidInput:d})},update(e,t,i){const a=s(e),{arg:o}=t,{validate:l,isTouched:d,isBlurred:c}=n.get(a),u=o||d&&c;l({el:a,form:r({binding:t,vnode:i}).form,reportInvalidInput:u})}}}const c=function({value:e,required:t=!0,skipValidation:n=!1}){return{value:e,required:t,state:!!n||null,feedback:null}},u=function({fields:e={},...t}={}){return{state:!1,showValidation:!1,...t,fields:Object.fromEntries(Object.entries(e).map((function([e,t]){return[e,c(t)]})))}}},UAFW:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getProjectInfoEE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"downloadCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkProject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createPathLock"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProjectPathLocksFragment"},directives:[]}]}}]}}],loc:{start:0,end:314}};i.loc.source={body:'#import "ee/repository/queries/path_locks.fragment.graphql"\n\nquery getProjectInfoEE($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    id\n    userPermissions {\n      pushCode\n      downloadCode\n      createMergeRequestIn\n      forkProject\n      createPathLock\n    }\n    ...ProjectPathLocksFragment\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("mEyd").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.getProjectInfoEE=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getProjectInfoEE")},aN3Q:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getOpenMrsForBlobPath"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"blobPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"createdAfter"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Time"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"opened"}},{kind:"Argument",name:{kind:"Name",value:"targetBranches"},value:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}}},{kind:"Argument",name:{kind:"Name",value:"blobPath"},value:{kind:"Variable",name:{kind:"Name",value:"blobPath"}}},{kind:"Argument",name:{kind:"Name",value:"createdAfter"},value:{kind:"Variable",name:{kind:"Name",value:"createdAfter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sourceBranch"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:692}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n\nquery getOpenMrsForBlobPath(\n  $projectPath: ID!\n  $targetBranch: [String!]\n  $blobPath: String!\n  $createdAfter: Time!\n) {\n  project(fullPath: $projectPath) {\n    id\n    mergeRequests(\n      state: opened\n      targetBranches: $targetBranch\n      blobPath: $blobPath\n      createdAfter: $createdAfter\n    ) {\n      nodes {\n        id\n        iid\n        title\n        webUrl\n        createdAt\n        author {\n          ...User\n        }\n        assignees {\n          nodes {\n            ...User\n          }\n        }\n        project {\n          id\n          fullPath\n        }\n        sourceBranch\n      }\n      count\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("aBoS").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.getOpenMrsForBlobPath=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getOpenMrsForBlobPath")},b4aW:function(e,t,n){"use strict";var i=n("ewH8"),r=n("NmEs"),a=n("3twG"),o=(n("lFMf"),n("gOHk"),n("c9hT"),n("1cpz")),s=n("4lAS"),l=n("30su"),d=n("/lV4"),c=n("0a87"),u={i18n:{title:Object(d.s__)("AmbiguousRef|Which reference do you want to view?"),description:Object(d.sprintf)(Object(d.s__)("AmbiguousRef|There is a branch and a tag with the same name of %{ref}.")),secondaryDescription:Object(d.s__)("AmbiguousRef|Which reference would you like to view?"),viewTagButton:Object(d.s__)("AmbiguousRef|View tag"),viewBranchButton:Object(d.s__)("AmbiguousRef|View branch")},tagRefType:c.j,branchRefType:c.b,components:{GlModal:o.a,GlButton:s.a,GlSprintf:l.a},props:{refName:{type:String,required:!0}},mounted(){this.$refs.ambiguousRefModal.show()},methods:{navigate(e){const t=new URL(window.location.href);t.searchParams.set(c.g,e),Object(a.T)(t.toString())}}},h=n("tBpV"),p=Object(h.a)(u,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"ambiguousRefModal",attrs:{"modal-id":"ambiguous-ref",title:e.$options.i18n.title},on:{primary:e.navigate},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-button",{attrs:{category:"secondary",variant:"confirm","data-testid":"view-tag-btn"},on:{click:function(){return e.navigate(e.$options.tagRefType)}}},[e._v(e._s(e.$options.i18n.viewTagButton))]),e._v(" "),t("gl-button",{attrs:{category:"secondary",variant:"confirm","data-testid":"view-branch-btn"},on:{click:function(){return e.navigate(e.$options.branchRefType)}}},[e._v(e._s(e.$options.i18n.viewBranchButton))])]},proxy:!0}])},[t("p",{staticClass:"gl-mb-0"},[t("gl-sprintf",{attrs:{message:e.$options.i18n.description},scopedSlots:e._u([{key:"ref",fn:function(){return[t("code",[e._v(e._s(e.refName))])]},proxy:!0}])})],1),e._v(" "),t("p",[e._v("\n    "+e._s(e.$options.i18n.secondaryDescription)+"\n  ")])])}),[],!1,null,null,null).exports;t.a=function(e=document.querySelector("#js-ambiguous-ref-modal")){const t=Object(a.p)(c.g),n=t===c.j||t===c.b;if(!e||n||!Object(r.K)(e.dataset.ambiguous))return!1;const{ref:o}=e.dataset;return new i.default({el:e,render:e=>e(p,{props:{refName:o}})})}},"bUk/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getOpenMrCountForBlobPath"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"blobPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"createdAfter"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Time"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"opened"}},{kind:"Argument",name:{kind:"Name",value:"targetBranches"},value:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}}},{kind:"Argument",name:{kind:"Name",value:"blobPath"},value:{kind:"Variable",name:{kind:"Name",value:"blobPath"}}},{kind:"Argument",name:{kind:"Name",value:"createdAfter"},value:{kind:"Variable",name:{kind:"Name",value:"createdAfter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:338}};n.loc.source={body:"query getOpenMrCountForBlobPath(\n  $projectPath: ID!\n  $targetBranch: [String!]\n  $blobPath: String!\n  $createdAfter: Time!\n) {\n  project(fullPath: $projectPath) {\n    id\n    mergeRequests(\n      state: opened\n      targetBranches: $targetBranch\n      blobPath: $blobPath\n      createdAfter: $createdAfter\n    ) {\n      count\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getOpenMrCountForBlobPath=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getOpenMrCountForBlobPath")},bprG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleLock"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lock"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"filePath"},value:{kind:"Variable",name:{kind:"Name",value:"filePath"}}},{kind:"ObjectField",name:{kind:"Name",value:"lock"},value:{kind:"Variable",name:{kind:"Name",value:"lock"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathLocks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:297}};n.loc.source={body:"mutation toggleLock($projectPath: ID!, $filePath: String!, $lock: Boolean!) {\n  projectSetLocked(input: { projectPath: $projectPath, filePath: $filePath, lock: $lock }) {\n    project {\n      id\n      pathLocks {\n        nodes {\n          id\n          path\n        }\n      }\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.toggleLock=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"toggleLock")},erMc:function(e,t,n){"use strict";n("ZzK0"),n("z6RN"),n("BzOf");var i=n("3twG"),r=n("C5t3");const a=/^(L|LC)[0-9]+/;t.a=function(e,t,n){if(!e)return;const o=function(){setTimeout((function(){!function(e){const t=Object(i.n)();if(t&&a.test(t)){const n="#"+t;[].concat(Array.prototype.slice.call(e)).forEach((function(e){const i=e.dataset.originalHref||function(){const t=e.getAttribute("href");return e.dataset.originalHref=t,t}(),a=parseInt(t.split("L")[1],10),o=Object(r.a)(a),s=Object(r.b)(i,o);e.setAttribute("href",`${i}${s}${n}`)}))}}(n)}),0)};e.addEventListener("click",(function(e){e.target.matches(t)&&o()})),o()}},fVTn:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUserGitpodInfo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gitpodEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"preferencesGitpodPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileEnableGitpodPath"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"query getUserGitpodInfo {\n  currentUser {\n    __typename\n    id\n    gitpodEnabled\n    preferencesGitpodPath\n    profileEnableGitpodPath\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getUserGitpodInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getUserGitpodInfo")},fXLe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("d08M"),r=n("C5t3");class a{constructor(e){var t;const{blobOverflowMenu:n}=null!==(t=gon.features)&&void 0!==t?t:{};n||e.add(i.gb,r.c)}}},htAy:function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var i=n("XCOs"),r=n.n(i),a=n("ewH8"),o=n("lRsd"),s=n("3twG"),l={components:{BlobContentViewer:n("kYRv").a},props:{path:{type:String,required:!0},projectPath:{type:String,required:!0},refType:{type:String,required:!1,default:null}}},d=n("tBpV"),c=Object(d.a)(l,(function(){return(0,this._self._c)("blob-content-viewer",{attrs:{path:this.path,"project-path":this.projectPath,"ref-type":this.refType}})}),[],!1,null,null,null).exports,u=n("t8rf"),h=(n("RFHG"),n("z6RN"),n("xuo1"),n("B++/"),n("47t/"),n("OGDS")),p=n.n(h),m=n("jlnU"),f=n("uQq6"),g=n("jEr0"),b=n("ITU6"),v=n("h6C7"),k=n.n(v);const y=["index","readme"],w=["ad","adoc","asciidoc","creole","markdown","md","mdown","mediawiki","mkd","mkdn","org","rdoc","rst","textile","wiki"],_=function(e){return new RegExp(`^(${y.join("|")})\\.(${w.join("|")})$`,"i").test(e.name)},S=function(e){return new RegExp(`^(${y.join("|")})(\\.txt)?$`,"i").test(e.name)};n("v2fZ"),n("ZzK0"),n("BzOf");var P=n("2ibD"),j=n("zbdB");let N=[],E=[];const T=function(e){return N.includes(e)},O=function(){N=[],E=[]},B=async function(e,t,n,i,r){if(T(i))return[];Array.from(Array(f.a)).forEach((function(e,t){return function(e){T(e)||e<0||N.push(e)}(i+t)}));return await function(e,t,n,i,r){if(E.includes(i)||i<0)return[];E.push(i);const a=Object(s.A)(gon.relative_url_root||"/",e,"/-/refs/",encodeURIComponent(n),"/logs_tree/",encodeURI(function(e){return e.replace(/^\//,"")}(t)));return P.a.get(a,{params:{format:"json",offset:i,ref_type:r}}).then((function({data:e}){return Object(j.a)(e,t)})).catch((function(){return Object(m.createAlert)({message:f.i})}))}(e,t,n,i,r)};var C=n("iCwi"),F=n("4+8U"),x=n("4lAS"),I=n("/lV4"),R=Object(d.a)({},(function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{attrs:{id:"name",scope:"col"}},[e._v(e._s(e.s__("ProjectFileTree|Name")))]),e._v(" "),t("th",{staticClass:"gl-hidden sm:gl-table-cell",attrs:{id:"last-commit",scope:"col"}},[e._v("\n      "+e._s(e.__("Last commit"))+"\n    ")]),e._v(" "),t("th",{staticClass:"text-right",attrs:{id:"last-update",scope:"col"}},[e._v(e._s(e.__("Last update")))])])])}),[],!1,null,null,null).exports,L=(n("3UXl"),n("iyoE"),n("FkSe")),D=n("lHJB"),A={components:{GlLoadingIcon:L.a},directives:{GlTooltip:D.a},inject:["refType"],props:{commitRef:{type:String,required:!0},path:{type:String,required:!0},loadingPath:{type:String,required:!1,default:null}},computed:{parentPath(){const e=this.path.split("/");return e.pop(),e.map((function(e){return encodeURIComponent(e)})).join("/")},parentRoute(){const e=Object(s.A)("/-/tree",this.commitRef,this.parentPath);return Object(s.e)({path:e,refType:this.refType})}},methods:{clickRow(){this.$router.push(this.parentRoute)}}},M=Object(d.a)(A,(function(){var e=this,t=e._self._c;return t("tr",{staticClass:"tree-item"},[t("td",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"tree-item-file-name",attrs:{title:e.__("Go to parent directory"),colspan:"3"},on:{click:function(t){return t.target!==t.currentTarget?null:e.clickRow.apply(null,arguments)}}},[e.parentPath===e.loadingPath?t("gl-loading-icon",{staticClass:"align-text-bottom gl-inline-block",attrs:{size:"sm",inline:""}}):t("router-link",{attrs:{to:e.parentRoute,"aria-label":e.__("Go to parent")}},[e._v(" .. ")])],1)])}),[],!1,null,null,null).exports,q=n("Lzak"),U=n("MV2A"),V=n("s1D3"),$=n("A5dm"),G=n("ehHk"),H=n("KFC0"),z=n.n(H);let W,Q;const K={bind:(e,t)=>{let{value:n}=t;if(!z()(n))throw TypeError("Directive value must be a function");const i=()=>{W&&(clearTimeout(W),W=void 0)};Q=()=>{e.addEventListener("mouseout",i,{passive:!0}),W=setTimeout(()=>{n(e),e.removeEventListener("mouseover",Q,!0),e.removeEventListener("mouseout",i),W=void 0},100)},e.addEventListener("mouseover",Q,{capture:!0,passive:!0})},unbind:e=>{e.removeEventListener("mouseover",Q,!0)}};var X=n("Mp8J"),Z=n("9dZE"),Y=n("Fsq/"),J=n("ilhb"),ee=n.n(J),te={components:{GlBadge:q.a,GlLink:U.a,GlSkeletonLoader:F.a,GlLoadingIcon:L.a,GlIcon:V.a,GlTruncate:$.a,TimeagoTooltip:Y.a,FileIcon:Z.a,GlIntersectionObserver:G.a},directives:{GlTooltip:D.a,GlHoverLoad:K,SafeHtml:X.a},mixins:[g.a],inject:["refType"],props:{commitInfo:{type:Object,required:!1,default:null},rowNumber:{type:Number,required:!1,default:null},totalEntries:{type:Number,required:!0},id:{type:String,required:!0},sha:{type:String,required:!0},projectPath:{type:String,required:!0},currentPath:{type:String,required:!0},name:{type:String,required:!0},path:{type:String,required:!0},mode:{type:String,required:!1,default:""},type:{type:String,required:!0},url:{type:String,required:!1,default:null},lfsOid:{type:String,required:!1,default:null},submoduleTreeUrl:{type:String,required:!1,default:null},loadingPath:{type:String,required:!1,default:""}},data:()=>({hasRowAppeared:!1,delayedRowAppear:null}),computed:{commitData(){return this.commitInfo},routerLinkTo(){return this.isBlob?Object(s.e)({path:Object(s.A)("/-/blob",this.escapedRef,encodeURI(this.path)),refType:this.refType}):this.isFolder?Object(s.e)({path:Object(s.A)("/-/tree",this.escapedRef,encodeURI(this.path)),refType:this.refType}):null},isBlob(){return"blob"===this.type},isFolder(){return"tree"===this.type},isSubmodule(){return"commit"===this.type},linkComponent(){return this.isFolder||this.isBlob?"router-link":"a"},fullPath(){return this.path.replace(new RegExp(`^${r()(this.currentPath)}/`),"")},shortSha(){return this.sha.slice(0,8)},hasLockLabel(){return this.commitData&&this.commitData.lockLabel},showSkeletonLoader(){return!this.commitData&&this.hasRowAppeared}},methods:{handlePreload(){return this.isFolder?this.loadFolder():this.loadBlob()},loadFolder(){this.apolloQuery(p.a,{projectPath:this.projectPath,ref:this.ref,refType:Object(b.a)(this.refType),path:this.path,nextPageCursor:"",pageSize:f.s})},loadBlob(){this.apolloQuery(ee.a,{projectPath:this.projectPath,filePath:[this.path],ref:this.ref,refType:Object(b.a)(this.refType),shouldFetchRawText:!0})},apolloQuery(e,t){this.$apollo.query({query:e,variables:t})},rowAppeared(){var e=this;this.hasRowAppeared=!0,this.commitInfo||(this.delayedRowAppear=setTimeout((function(){return e.$emit("row-appear",e.rowNumber)}),f.p))},rowDisappeared(){clearTimeout(this.delayedRowAppear),this.hasRowAppeared=!1}},safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},ne=Object(d.a)(te,(function(){var e=this,t=e._self._c;return t("tr",{staticClass:"tree-item"},[t("th",{staticClass:"tree-item-file-name gl-relative gl-cursor-default gl-font-normal",attrs:{scope:"row"}},[t(e.linkComponent,{directives:[{name:"gl-hover-load",rawName:"v-gl-hover-load",value:e.handlePreload,expression:"handlePreload"}],ref:"link",tag:"component",staticClass:"tree-item-link gl-inline-flex gl-min-w-0 gl-max-w-full",class:{"is-submodule":e.isSubmodule},attrs:{title:e.fullPath,to:e.routerLinkTo,href:e.url,"data-testid":"file-name-link"}},[t("file-icon",{staticClass:"gl-relative gl-mr-2 gl-text-secondary",attrs:{"file-name":e.fullPath,"file-mode":e.mode,folder:e.isFolder,submodule:e.isSubmodule,loading:e.path===e.loadingPath,"css-classes":"gl-relative file-icon"}}),t("gl-truncate",{staticClass:"gl-min-w-0 gl-grow hover:gl-underline",attrs:{text:e.fullPath,position:"end","with-tooltip":""}})],1),e._v(" "),e.lfsOid?t("gl-badge",{attrs:{variant:"muted","data-testid":"label-lfs"}},[e._v("LFS")]):e._e(),e._v(" "),e.isSubmodule?[e._v("\n      @ "),t("gl-link",{staticClass:"commit-sha",attrs:{href:e.submoduleTreeUrl}},[e._v(e._s(e.shortSha))])]:e._e(),e._v(" "),e.hasLockLabel?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.commitData.lockLabel,name:"lock",size:12}}):e._e()],2),e._v(" "),t("td",{staticClass:"tree-commit cursor-default gl-hidden sm:gl-table-cell"},[e.commitData?t("gl-link",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.commitData.titleHtml,expression:"commitData.titleHtml",arg:e.$options.safeHtmlConfig}],staticClass:"str-truncated-100 tree-commit-link gl-text-subtle",attrs:{href:e.commitData.commitPath,title:e.commitData.message}}):e._e(),e._v(" "),t("gl-intersection-observer",{on:{appear:e.rowAppeared,disappear:e.rowDisappeared}},[e.showSkeletonLoader?t("gl-skeleton-loader",{attrs:{lines:1}}):e._e()],1)],1),e._v(" "),t("td",{staticClass:"tree-time-ago cursor-default gl-text-right gl-text-subtle"},[t("gl-intersection-observer",{on:{appear:e.rowAppeared,disappear:e.rowDisappeared}},[e.commitData?t("timeago-tooltip",{attrs:{time:e.commitData.committedDate}}):e._e()],1),e._v(" "),e.showSkeletonLoader?t("gl-skeleton-loader",{attrs:{lines:1}}):e._e()],1)])}),[],!1,null,null,null).exports,ie={components:{GlSkeletonLoader:F.a,TableHeader:R,TableRow:ne,ParentRow:M,GlButton:x.a},mixins:[g.a],apollo:{projectPath:{query:k.a}},props:{commits:{type:Array,required:!1,default:function(){return[]}},path:{type:String,required:!0},entries:{type:Object,required:!1,default:function(){return{}}},isLoading:{type:Boolean,required:!0},loadingPath:{type:String,required:!1,default:""},hasMore:{type:Boolean,required:!0}},data:()=>({projectPath:"",rowNumbers:{}}),computed:{totalEntries(){return Object.values(this.entries).flat().length},tableCaption(){return this.isLoading?Object(I.sprintf)(Object(I.__)("Loading files, directories, and submodules in the path %{path} for commit reference %{ref}"),{path:this.path,ref:this.ref}):Object(I.sprintf)(Object(I.__)("Files, directories, and submodules in the path %{path} for commit reference %{ref}"),{path:this.path,ref:this.ref})},showParentRow(){return-1===["","/"].indexOf(this.path)}},methods:{showMore(){this.$emit("showMore")},generateRowNumber(e,t){var n,i;const{flatPath:r,id:a}=e,o=`${r}-${a}-${t}`,s=(null===(n=this.entries)||void 0===n||null===(n=n.trees)||void 0===n?void 0:n.length)||0,l=(null===(i=this.entries)||void 0===i||null===(i=i.blobs)||void 0===i?void 0:i.length)||0;return this.rowNumbers[o]||0===this.rowNumbers[o]||("commit"===e.type?this.rowNumbers[o]=s+l+t:"blob"===e.type?this.rowNumbers[o]=s+t:this.rowNumbers[o]=t),this.rowNumbers[o]},getCommit(e){var t=this;return this.commits.find((function(n){return n.filePath===Object(s.A)(t.path,e)}))}}},re=Object(d.a)(ie,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"tree-content-holder"},[t("div",{staticClass:"table-holder gl-border gl-rounded-base gl-border-section"},[t("table",{staticClass:"table tree-table",class:{"gl-table-fixed":!e.showParentRow},attrs:{"aria-label":e.tableCaption,"aria-live":"polite","data-testid":"file-tree-table"}},[e._m(0),e._v(" "),t("tbody",[e.showParentRow?t("parent-row",{attrs:{"commit-ref":e.escapedRef,path:e.path,"loading-path":e.loadingPath}}):e._e(),e._v(" "),e._l(e.entries,(function(n){return e._l(n,(function(n,i){return t("table-row",e._g({key:`${n.flatPath}-${n.id}-${i}`,attrs:{id:n.id,sha:n.sha,"project-path":e.projectPath,"current-path":e.path,name:n.name,path:n.flatPath,type:n.type,url:n.webUrl||n.webPath,mode:n.mode,"submodule-tree-url":n.treeUrl,"lfs-oid":n.lfsOid,"loading-path":e.loadingPath,"total-entries":e.totalEntries,"row-number":e.generateRowNumber(n,i),"commit-info":e.getCommit(n.name)}},e.$listeners))}))})),e._v(" "),e.isLoading?e._l(5,(function(n){return t("tr",{key:n,attrs:{"aria-hidden":"true"}},[t("td",[t("gl-skeleton-loader",{attrs:{lines:1}})],1),e._v(" "),t("td",{staticClass:"gl-hidden sm:gl-block"},[t("gl-skeleton-loader",{attrs:{lines:1}})],1),e._v(" "),t("td",[t("div",{staticClass:"gl-flex lg:gl-justify-end"},[t("gl-skeleton-loader",{attrs:{"equal-width-lines":!0,lines:1}})],1)])])})):e._e(),e._v(" "),e.hasMore?[t("tr",[t("td",{staticClass:"!gl-p-0",attrs:{align:"center",colspan:"3"}},[t("gl-button",{staticClass:"gl-flex gl-w-full !gl-py-4",attrs:{variant:"link",loading:e.isLoading},on:{click:e.showMore}},[e._v("\n                "+e._s(e.s__("ProjectFileTree|Show more"))+"\n              ")])],1)])]:e._e()],2)],1)])])}),[function(){return(0,this._self._c)("table-header")}],!1,null,null,null).exports,ae={i18n:f.t,components:{FileTable:re,FilePreview:C.a},mixins:[g.a],apollo:{projectPath:{query:k.a}},inject:["refType"],props:{path:{type:String,required:!1,default:"/"},loadingPath:{type:String,required:!1,default:""}},data:()=>({commits:[],projectPath:"",nextPageCursor:"",pagesLoaded:1,entries:{trees:[],submodules:[],blobs:[]},isLoadingFiles:!1,isOverLimit:!1,clickedShowMore:!1,fetchCounter:0}),computed:{totalEntries(){return Object.values(this.entries).flat().length},readme(){return(e=this.entries.blobs).find(_)||e.find(S);var e},pageLimitReached(){return this.totalEntries/this.pagesLoaded>=f.r},hasShowMore(){return!this.clickedShowMore&&this.pageLimitReached}},watch:{$route:function(){this.entries.trees=[],this.entries.submodules=[],this.entries.blobs=[],this.nextPageCursor="",O(),this.fetchFiles()}},mounted(){var e=this;this.$nextTick((function(){O(),e.fetchFiles()}))},methods:{fetchFiles(){var e=this;const t=this.path||"/";return this.isLoadingFiles=!0,this.$apollo.query({query:p.a,variables:{projectPath:this.projectPath,ref:this.ref,refType:Object(b.a)(this.refType),path:t,nextPageCursor:this.nextPageCursor,pageSize:f.s}}).then((function({data:n}){var i;if(n.errors)throw n.errors;if(null==n||null===(i=n.project)||void 0===i||!i.repository||t!==(e.path||"/"))return;const{project:{repository:{paginatedTree:{pageInfo:r}}}}=n;e.isLoadingFiles=!1,e.entries=Object.keys(e.entries).reduce((function(t,i){return{...t,[i]:e.normalizeData(i,n.project.repository.paginatedTree.nodes[0][i])}}),{}),null!=r&&r.hasNextPage&&(e.nextPageCursor=r.endCursor,e.fetchCounter+=1,e.pageLimitReached&&!e.clickedShowMore||(e.fetchFiles(),e.clickedShowMore=!1))})).catch((function(t){let n;t.graphQLErrors&&(n=t.graphQLErrors.find((function(e){var t;return(null==e||null===(t=e.extensions)||void 0===t?void 0:t.code)===f.h})));const i=n?e.$options.i18n.gitalyError:e.$options.i18n.generalError;Object(m.createAlert)({message:i,captureError:!0})}))},normalizeData(e,t){return this.entries[e].concat(t.nodes)},hasNextPage:e=>[].concat(e.trees.pageInfo,e.submodules.pageInfo,e.blobs.pageInfo).find((function({hasNextPage:e}){return e})),handleRowAppear(e){T(e)||this.loadCommitData(e-e%f.a)},loadCommitData(e){B(this.projectPath,this.path,this.ref,e,this.refType).then(this.setCommitData).catch((function(){}))},setCommitData(e){this.commits=this.commits.concat(e)},handleShowMore(){this.clickedShowMore=!0,this.pagesLoaded+=1,this.fetchFiles()}}},oe={components:{TreeContent:Object(d.a)(ae,(function(){var e=this,t=e._self._c;return t("div",[t("file-table",{attrs:{path:e.path,entries:e.entries,"is-loading":e.isLoadingFiles,"loading-path":e.loadingPath,"has-more":e.hasShowMore,commits:e.commits},on:{showMore:e.handleShowMore,"row-appear":e.handleRowAppear}}),e._v(" "),e.readme?t("file-preview",{attrs:{blob:e.readme}}):e._e()],1)}),[],!1,null,null,null).exports},mixins:[{mixins:[g.a],apollo:{projectPath:{query:k.a}},data:()=>({projectPath:"",loadingPath:null}),beforeRouteUpdate(e,t,n){this.preload(e.params.path,n)},methods:{preload(e="/",t){return this.loadingPath=e.replace(/^\//,""),this.$apollo.query({query:p.a,variables:{projectPath:this.projectPath,ref:this.ref,refType:Object(b.a)(this.refType),path:this.loadingPath,nextPageCursor:"",pageSize:100}}).then((function(){return t()}))}}}],provide(){return{refType:this.refType}},props:{path:{type:String,required:!1,default:"/"},refType:{type:String,required:!1,default:""}},computed:{isRoot(){return"/"===this.path}},watch:{isRoot:{immediate:!0,handler:"updateElements"}},methods:{updateElements(e){Object(u.a)(".js-show-on-root",e),Object(u.a)(".js-hide-on-root",!e)}}},se=Object(d.a)(oe,(function(){return(0,this._self._c)("tree-content",{attrs:{path:this.path,"loading-path":this.loadingPath}})}),[],!1,null,null,null).exports,le={components:{TreePage:se},props:{refType:{type:String,required:!1,default:null}},mounted(){this.updateProjectElements(!0)},beforeDestroy(){this.updateProjectElements(!1)},methods:{updateProjectElements(e){Object(u.a)(".js-show-on-project-root",e)}}},de=Object(d.a)(le,(function(){return(0,this._self._c)("tree-page",{attrs:{path:"/","ref-type":this.refType}})}),[],!1,null,null,null).exports;a.default.use(o.a);const ce=function(e){return Array.isArray(e)?Object(s.A)(...e):(null==e?void 0:e.replace(/^\//,""))||"/"};function ue(e,t){const n={component:se,props:function(e){return{path:ce(e.params.path),refType:Object(b.a)(e.query.ref_type||null)}}},i={component:c,props:function(t){return{path:t.params.path,projectPath:e,refType:Object(b.a)(t.query.ref_type||null)}}},a=new o.a({mode:"history",base:Object(s.A)(gon.relative_url_root||"",e),routes:[{name:"treePathDecoded",path:`/:dash(-)?/tree/${decodeURI(t)}/:path*`,...n},{name:"treePath",path:`/:dash(-)?/tree/${r()(t)}/:path*`,...n},{name:"blobPathDecoded",path:`/:dash(-)?/blob/${decodeURI(t)}/:path*`,...i},{name:"blobPath",path:`/:dash(-)?/blob/${r()(t)}/:path*`,...i},{path:"/",name:"projectRoot",component:de,props:{refType:"HEADS"},meta:{refType:"HEADS"}}]});return a.afterEach((function(n){const i=!n.name.includes("blobPath");window.gl.webIDEPath=Object(s.V)(Object(s.A)("/",e,"edit",decodeURI(t),"-",ce(n.params.path),i&&"/"))})),a}},i1z4:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},ilhb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBlobInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"refType"}},type:{kind:"NamedType",name:{kind:"Name",value:"RefType"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shouldFetchRawText"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"empty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"Variable",name:{kind:"Name",value:"filePath"}}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}},{kind:"Argument",name:{kind:"Name",value:"refType"},value:{kind:"Variable",name:{kind:"Name",value:"refType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawTextBlob"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"shouldFetchRawText"}}}]}]},{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blamePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editBlobPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gitpodBlobUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ideEditPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkAndEditPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ideForkAndEditPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codeNavigationPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projectBlobPathRoot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkAndViewPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environmentFormattedExternalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"environmentExternalUrlForRouteMap"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canModifyBlob"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canModifyBlobWithWebIde"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canCurrentUserPushToBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storedExternally"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalStorage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalStorageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"replacePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pipelineEditorPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"simpleViewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooLarge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderError"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"richViewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooLarge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderError"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1393}};n.loc.source={body:"query getBlobInfo(\n  $projectPath: ID!\n  $filePath: [String!]!\n  $ref: String!\n  $refType: RefType\n  $shouldFetchRawText: Boolean!\n) {\n  project(fullPath: $projectPath) {\n    __typename\n    id\n    repository {\n      __typename\n      empty\n      blobs(paths: $filePath, ref: $ref, refType: $refType) {\n        __typename\n        nodes {\n          __typename\n          id\n          webPath\n          name\n          size\n          rawSize\n          rawTextBlob @include(if: $shouldFetchRawText)\n          fileType\n          language\n          path\n          blamePath\n          editBlobPath\n          gitpodBlobUrl\n          ideEditPath\n          forkAndEditPath\n          ideForkAndEditPath\n          codeNavigationPath\n          projectBlobPathRoot\n          forkAndViewPath\n          environmentFormattedExternalUrl\n          environmentExternalUrlForRouteMap\n          canModifyBlob\n          canModifyBlobWithWebIde\n          canCurrentUserPushToBranch\n          archived\n          storedExternally\n          externalStorage\n          externalStorageUrl\n          rawPath\n          replacePath\n          pipelineEditorPath\n          simpleViewer {\n            fileType\n            tooLarge\n            type\n            renderError\n          }\n          richViewer {\n            fileType\n            tooLarge\n            type\n            renderError\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getBlobInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getBlobInfo")},jHQk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=function(e,t,n){if(!e)return void(document.title=n+"  GitLab");const i=e.replace(/^\//,""),r=""===i;document.title=`${r?"Files":i}  ${t}  ${n}  GitLab`};function r(e,t=document){const{title:n=""}=t,i=n.split("  ");i.length>1&&(i[1]=e,t.title=i.join("  "))}},kYRv:function(e,t,n){"use strict";var i=n("o4PY"),r=n.n(i),a=(n("B++/"),n("z6RN"),n("47t/"),n("lFMf"),n("gOHk"),n("c9hT"),n("v2fZ"),n("FkSe")),o=n("4lAS"),s=n("67aS"),l=n("6L/t"),d=n("7bJy"),c=n("jlnU"),u=n("2ibD"),h=n("NmEs"),p=n("/lV4"),m=n("sHIo"),f=n("3twG"),g=n("+MIs"),b=n("0hIY"),v=n("ilhb"),k=n.n(v),y=(n("3UXl"),n("iyoE"),n("TPPX")),w=n("lA8v"),_=n("ktwE"),S=n("ygVz"),P=n("uQq6"),j={HLJS_MAX_SIZE:2e6,mixins:[S.b.mixin()],inject:{highlightWorker:{default:null}},data:()=>({chunks:[]}),methods:{trackEvent(e,t){this.track(y.e,{label:e,property:t})},isUnsupportedLanguage(e){const t=y.k[e],n=!Object.keys(_.a).includes(t);return y.h.includes(e)||n},handleUnsupportedLanguage(e){this.trackEvent(y.f,e),null==this||this.onError()},async handleLFSBlob(e,t,n){var i=this;await u.a.get(e||t).then((function({data:e}){return i.instructWorker(e,n)})).catch((function(){return i.$emit("error")}))},initHighlightWorker(e,t){const{rawTextBlob:n,name:i,fileType:r,externalStorageUrl:a,rawPath:o,simpleViewer:s}=e;let{language:l}=e;if(i.endsWith(".gleam")&&(l="gleam"),(null==s?void 0:s.fileType)!==P.q)return;if(this.isUnsupportedLanguage(l))return void this.handleUnsupportedLanguage(l);if(this.highlightWorker.onmessage=this.handleWorkerMessage,t)return void this.handleLFSBlob(a,o,l);const d=n.split(/\r?\n/).slice(0,y.i).join("\n");this.chunks=Object(w.c)(l,d),this.instructWorker(d,l),this.instructWorker(n,l,r)},handleWorkerMessage({data:e}){e.length<this.chunks.length||(this.chunks=e,this.highlightHash())},instructWorker(e,t,n){this.highlightWorker.postMessage({content:e,language:t,fileType:n})},highlightHash(){const{hash:e}=this.$route;if(!e)return;const[t,n]=e.substring(e.indexOf("L")+1).split("-");this.chunks.map((function(e){const i=e,r=e.startingFrom+e.totalLines;return(t>=e.startingFrom||r<=n||function({startingFrom:e,totalLines:t},n){return e<=n&&e+t>=n}(e,n))&&(i.isHighlighted=!0),i}))}}},N=n("UAFW"),E=n.n(N),T=n("J7NB"),O=n("jEr0"),B=n("ITU6"),C=n("1fc5"),F=n("++ts"),x=n("CSd6");var I={i18n:{replace:Object(p.__)("Replace"),delete:Object(p.__)("Delete")},components:{GlButtonGroup:C.a,GlButton:o.a,UploadBlobModal:x.a,DeleteBlobModal:F.a,LockFileButton:function(){return n.e(1560).then(n.bind(null,"GEHs"))}},mixins:[O.a,Object(m.a)()],inject:{targetBranch:{default:""},originalBranch:{default:""}},props:{name:{type:String,required:!0},path:{type:String,required:!0},replacePath:{type:String,required:!0},deletePath:{type:String,required:!0},canPushCode:{type:Boolean,required:!0},canPushToBranch:{type:Boolean,required:!0},emptyRepo:{type:Boolean,required:!0},projectPath:{type:String,required:!0},isLocked:{type:Boolean,required:!0},canLock:{type:Boolean,required:!0},showForkSuggestion:{type:Boolean,required:!0},isUsingLfs:{type:Boolean,required:!1,default:!1}},computed:{deleteModalId:()=>r()("delete-modal"),replaceCommitMessage(){return Object(p.sprintf)(Object(p.__)("Replace %{name}"),{name:this.name})},deleteModalCommitMessage(){return Object(p.sprintf)(Object(p.__)("Delete %{name}"),{name:this.name})},lockBtnTestId(){return this.canLock?"lock-button":"disabled-lock-button"}},methods:{showModal(e){this.showForkSuggestion?this.$emit("fork","view"):this.$refs[e].show()}},replaceBlobModalId:"modal-replace-blob"},R=n("tBpV"),L=Object(R.a)(I,(function(){var e=this,t=e._self._c;return t("div",[t("gl-button-group",[e.glFeatures.fileLocks?t("lock-file-button",{attrs:{name:e.name,path:e.path,"project-path":e.projectPath,"is-locked":e.isLocked,"can-lock":e.canLock,"data-testid":e.lockBtnTestId}}):e._e(),e._v(" "),t("gl-button",{attrs:{"data-testid":"replace"},on:{click:function(t){return e.showModal(e.$options.replaceBlobModalId)}}},[e._v("\n      "+e._s(e.$options.i18n.replace)+"\n    ")]),e._v(" "),t("gl-button",{attrs:{"data-testid":"delete"},on:{click:function(t){return e.showModal(e.deleteModalId)}}},[e._v("\n      "+e._s(e.$options.i18n.delete)+"\n    ")])],1),e._v(" "),t("upload-blob-modal",{ref:e.$options.replaceBlobModalId,attrs:{"modal-id":e.$options.replaceBlobModalId,"commit-message":e.replaceCommitMessage,"target-branch":e.targetBranch||e.ref,"original-branch":e.originalBranch||e.ref,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,path:e.path,"replace-path":e.replacePath}}),e._v(" "),t("delete-blob-modal",{ref:e.deleteModalId,attrs:{"delete-path":e.deletePath,"modal-id":e.deleteModalId,"commit-message":e.deleteModalCommitMessage,"target-branch":e.targetBranch||e.ref,"original-branch":e.originalBranch||e.ref,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"empty-repo":e.emptyRepo,"is-using-lfs":e.isUsingLfs}})],1)}),[],!1,null,null,null).exports,D={i18n:{message:Object(p.__)("You cant edit files directly in this project. Fork this project and submit a merge request with your changes."),fork:Object(p.__)("Fork"),cancel:Object(p.__)("Cancel")},components:{GlButton:o.a},props:{forkPath:{type:String,required:!0}}},A=Object(R.a)(D,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-flex gl-items-center gl-justify-end gl-border-1 gl-border-default gl-bg-subtle gl-px-5 gl-py-2 gl-border-b-solid"},[t("span",{staticClass:"gl-mr-6",attrs:{"data-testid":"message"}},[e._v(e._s(e.$options.i18n.message))]),e._v(" "),t("gl-button",{staticClass:"gl-mr-3",attrs:{category:"secondary",variant:"confirm","data-method":"post",href:e.forkPath,"data-testid":"fork"}},[e._v("\n    "+e._s(e.$options.i18n.fork)+"\n  ")]),e._v(" "),t("gl-button",{attrs:{"data-testid":"cancel"},on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n    "+e._s(e.$options.i18n.cancel)+"\n  ")])],1)}),[],!1,null,null,null).exports;const M={csv:function(){return Promise.all([n.e(13),n.e(36),n.e(1334)]).then(n.bind(null,"zn/t"))},download:function(){return n.e(1511).then(n.bind(null,"om2A"))},image:function(){return n.e(356).then(n.bind(null,"xBnX"))},video:function(){return n.e(1516).then(n.bind(null,"Ym/H"))},empty:function(){return n.e(1512).then(n.bind(null,"wE6l"))},text:function(){return n.e(1380).then(n.bind(null,"klTQ"))},pdf:function(){return n.e(1270).then(n.bind(null,"i5f0"))},lfs:function(){return n.e(1514).then(n.bind(null,"yGin"))},audio:function(){return n.e(1510).then(n.bind(null,"ku4I"))},svg:function(){return n.e(356).then(n.bind(null,"xBnX"))},sketch:function(){return Promise.all([n.e(46),n.e(352),n.e(1375)]).then(n.bind(null,"KtaJ"))},notebook:function(){return Promise.all([n.e(13),n.e(36),n.e(231),n.e(353),n.e(1253)]).then(n.bind(null,"6WvP"))},openapi:function(){return Promise.all([n.e(233),n.e(324),n.e(1335)]).then(n.bind(null,"myhX"))},geo_json:function(){return Promise.all([n.e(1226),n.e(1513)]).then(n.bind(null,"s65y"))},too_large:function(){return n.e(1515).then(n.bind(null,"Uaao"))}};var q={components:{BlobHeader:l.a,BlobButtonGroup:L,BlobContent:s.a,GlLoadingIcon:a.a,GlButton:o.a,ForkSuggestion:A,CodeIntelligence:g.a,AiGenie:function(){return n.e(1525).then(n.bind(null,"fHWa"))}},mixins:[O.a,j,Object(m.a)()],inject:{originalBranch:{default:""},explainCodeAvailable:{default:!1}},apollo:{projectInfo:{query:E.a,variables(){return{projectPath:this.projectPath}},error(){this.displayError()},update({project:e}){this.pathLocks=e.pathLocks||P.d.pathLocks,this.userPermissions=e.userPermissions}},project:{query:k.a,variables(){return{projectPath:this.projectPath,filePath:[this.path],ref:this.currentRef,refType:Object(B.a)(this.refType),shouldFetchRawText:!0}},result({data:e}){var t,n,i,r;const a=(null===(t=e.project)||void 0===t?void 0:t.repository)||{};this.blobInfo=(null===(n=a.blobs)||void 0===n?void 0:n.nodes[0])||{},this.isEmptyRepository=a.empty,this.projectId=null===(i=e.project)||void 0===i?void 0:i.id;const o="1"===(null===(r=this.$route)||void 0===r||null===(r=r.query)||void 0===r?void 0:r.plain),s=Object(f.n)(),l=o||(null==s?void 0:s.startsWith("L"))||!this.hasRichViewer;this.isUnsupportedLanguage(this.blobInfo.language)&&this.isTooLarge||(this.initHighlightWorker(this.blobInfo,this.isUsingLfs),this.switchViewer(l?d.l:d.i))},error(){this.displayError()}}},provide:()=>({blobHash:r()()}),props:{path:{type:String,required:!0},projectPath:{type:String,required:!0},refType:{type:String,required:!1,default:null}},data(){var e;return{forkTarget:null,legacyRichViewer:null,legacySimpleViewer:null,isBinary:!1,isLoadingLegacyViewer:!1,isRenderingLegacyTextViewer:!1,activeViewerType:d.l,project:P.d.project,currentUser:P.d.currentUser,useFallback:!1,pathLocks:P.d.pathLocks,userPermissions:P.d.userPermissions,blobInfo:{},isEmptyRepository:!1,projectId:null,showBlame:"1"===(null===(e=this.$route)||void 0===e||null===(e=e.query)||void 0===e?void 0:e.blame)}},computed:{isLoggedIn:()=>Object(h.D)(),isLoading(){return this.$apollo.queries.project.loading},isBinaryFileType(){var e,t;return this.isBinary||(null===(e=this.blobInfo.simpleViewer)||void 0===e?void 0:e.fileType)!==P.q&&(null===(t=this.blobInfo.simpleViewer)||void 0===t?void 0:t.fileType)!==P.e},currentRef(){return this.originalBranch||this.ref},viewer(){const{richViewer:e,simpleViewer:t}=this.blobInfo;return this.activeViewerType===d.i?e:t},hasRichViewer(){return Boolean(this.blobInfo.richViewer)},hasRenderError(){return Boolean(this.viewer.renderError)},isTooLarge(){const e=this.activeViewerType===d.l,{tooLarge:t,renderError:n}=this.viewer||{},i=t||"collapsed"===n||"too_large"===n;return e?this.isUnsupportedLanguage(this.blobInfo.language)?i:this.blobInfo.size>=this.$options.HLJS_MAX_SIZE:i},blobViewer(){const{fileType:e}=this.viewer,{isTooLarge:t}=this;return this.shouldLoadLegacyViewer?null:function(e,t,n){let i=M[e];return n?i=M.too_large:!i&&t&&(i=M.lfs),i}(e,this.isUsingLfs,t)},shouldLoadLegacyViewer(){return P.j.includes(this.blobInfo.fileType)||this.useFallback},legacyViewerLoaded(){return this.activeViewerType===d.l&&this.legacySimpleViewer||this.activeViewerType===d.i&&this.legacyRichViewer},canLock(){var e;const{pushCode:t,downloadCode:n}=this.userPermissions,i=null===(e=window.gon)||void 0===e?void 0:e.current_username;return(!this.pathLockedByUser||this.pathLockedByUser.username===i)&&(t&&n)},pathLockedByUser(){var e,t=this;const n=null===(e=this.pathLocks)||void 0===e?void 0:e.nodes.find((function(e){return e.path===t.path}));return n?n.user:null},canFork(){const{createMergeRequestIn:e,forkProject:t}=this.userPermissions;return this.isLoggedIn&&!this.isUsingLfs&&e&&t},showSingleFileEditorForkSuggestion(){const{canModifyBlob:e}=this.blobInfo;return this.canFork&&!e},showWebIdeForkSuggestion(){const{canModifyBlobWithWebIde:e}=this.blobInfo;return this.canFork&&!e},showForkSuggestion(){return this.showSingleFileEditorForkSuggestion||this.showWebIdeForkSuggestion},forkPath(){return{ide:this.blobInfo.ideForkAndEditPath,simple:this.blobInfo.forkAndEditPath,view:this.blobInfo.forkAndViewPath}[this.forkTarget]},isUsingLfs(){return this.blobInfo.storedExternally&&this.blobInfo.externalStorage===P.k},shouldRenderAiGenie(){return this.explainCodeAvailable&&"simple"===this.activeViewerType&&!this.isTooLarge},shouldHideViewerSwitcher(){var e;return this.isBinaryFileType||this.isUsingLfs||(null===(e=this.blobInfo.simpleViewer)||void 0===e?void 0:e.fileType)===P.e}},watch:{"$route.query.plain":{handler(e){const t="1"===e||!this.hasRichViewer;this.switchViewer(t?d.l:d.i)}}},methods:{onError(){this.useFallback=!0,this.loadLegacyViewer()},loadLegacyViewer(){var e=this;if(this.legacyViewerLoaded)return;const t=this.activeViewerType;this.isLoadingLegacyViewer=!0;const n=new URL(this.blobInfo.webPath,window.location.origin);n.searchParams.set("format","json"),n.searchParams.set("viewer",t),u.a.get(n.pathname+n.search).then((async function({data:{html:n,binary:i}}){e.isRenderingLegacyTextViewer=!0,t===d.l?e.legacySimpleViewer=n:e.legacyRichViewer=n,e.isBinary=i,e.isLoadingLegacyViewer=!1,window.requestIdleCallback((function(){e.isRenderingLegacyTextViewer=!1,t===d.l&&new b.a})),await e.$nextTick(),Object(h.p)(),T.a.$emit("showBlobInteractionZones",e.blobInfo.path)})).catch((function(){return e.displayError()}))},displayError(){Object(c.createAlert)({message:Object(p.__)("An error occurred while loading the file. Please try again.")})},switchViewer(e){this.activeViewerType=e||d.l,this.blobViewer||this.loadLegacyViewer()},handleViewerChanged(e){var t;this.switchViewer(e);const n=e===d.l?"1":"0";(null===(t=this.$route)||void 0===t||null===(t=t.query)||void 0===t?void 0:t.plain)!==n&&this.$router.push({path:this.$route.path,query:{...this.$route.query,plain:n}})},isIdeTarget:e=>"ide"===e,forkSuggestionForSelectedEditor(e){return this.isIdeTarget(e)?this.showWebIdeForkSuggestion:this.showSingleFileEditorForkSuggestion},editBlob(e){const{ideEditPath:t,editBlobPath:n}=this.blobInfo,i=this.isIdeTarget(e);this.forkSuggestionForSelectedEditor(e)?this.setForkTarget(e):Object(f.T)(i?t:n)},setForkTarget(e){this.forkTarget=e},onCopy(){navigator.clipboard.writeText(this.blobInfo.rawTextBlob)},handleToggleBlame(){var e,t;this.switchViewer(d.l),"0"===(null===(e=this.$route)||void 0===e||null===(e=e.query)||void 0===e?void 0:e.plain)?this.showBlame=!0:this.showBlame=!this.showBlame;const n=!0===this.showBlame?"1":"0";(null===(t=this.$route)||void 0===t||null===(t=t.query)||void 0===t?void 0:t.blame)!==n&&this.$router.push({path:this.$route.path,query:{...this.$route.query,blame:n}})}}},U=Object(R.a)(q,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-relative"},[e.isLoading?t("gl-loading-icon",{attrs:{size:"sm"}}):e._e(),e._v(" "),e.blobInfo&&!e.isLoading?t("div",{staticClass:"file-holder",attrs:{id:"fileHolder"}},[t("blob-header",{attrs:{"is-blob-page":"",blob:e.blobInfo,"hide-viewer-switcher":e.shouldHideViewerSwitcher,"is-binary":e.isBinaryFileType,"active-viewer-type":e.viewer.type,"has-render-error":e.hasRenderError,"show-path":!1,"override-copy":!0,"show-fork-suggestion":e.showSingleFileEditorForkSuggestion,"show-web-ide-fork-suggestion":e.showWebIdeForkSuggestion,"show-blame-toggle":e.glFeatures.inlineBlame,"project-path":e.projectPath,"project-id":e.projectId},on:{"viewer-changed":e.handleViewerChanged,copy:e.onCopy,edit:e.editBlob,error:e.displayError,blame:e.handleToggleBlame},scopedSlots:e._u([{key:"actions",fn:function(){return[!e.isLoggedIn||e.blobInfo.archived||e.glFeatures.blobOverflowMenu?e._e():t("blob-button-group",{attrs:{path:e.path,name:e.blobInfo.name,"replace-path":e.blobInfo.replacePath,"delete-path":e.blobInfo.webPath,"can-push-code":e.userPermissions.pushCode,"can-push-to-branch":e.blobInfo.canCurrentUserPushToBranch,"empty-repo":e.isEmptyRepository,"project-path":e.projectPath,"is-locked":Boolean(e.pathLockedByUser),"can-lock":e.canLock,"show-fork-suggestion":e.showSingleFileEditorForkSuggestion,"is-using-lfs":e.isUsingLfs},on:{fork:function(t){return e.setForkTarget("view")}}})]},proxy:!0}],null,!1,1066144047)}),e._v(" "),e.forkTarget&&e.showForkSuggestion?t("fork-suggestion",{attrs:{"fork-path":e.forkPath},on:{cancel:function(t){return e.setForkTarget(null)}}}):e._e(),e._v(" "),e.blobViewer?t(e.blobViewer,{tag:"component",staticClass:"blob-viewer",attrs:{blob:e.blobInfo,chunks:e.chunks,"show-blame":e.showBlame&&e.glFeatures.inlineBlame,"project-path":e.projectPath,"current-ref":e.currentRef},on:{error:e.onError}}):t("blob-content",{staticClass:"js-syntax-highlight",attrs:{"rich-viewer":e.legacyRichViewer,blob:e.blobInfo,content:e.legacySimpleViewer,"is-raw-content":!0,"active-viewer":e.viewer,"show-blame":e.showBlame&&e.glFeatures.inlineBlame,"current-ref":e.currentRef,loading:e.isLoadingLegacyViewer,"project-path":e.projectPath,"data-loading":e.isRenderingLegacyTextViewer}}),e._v(" "),e.blobViewer||e.legacyViewerLoaded?t("code-intelligence",{attrs:{"code-navigation-path":e.blobInfo.codeNavigationPath,"blob-path":e.blobInfo.path,"path-prefix":e.blobInfo.projectBlobPathRoot,"wrap-text-nodes":!0}}):e._e()],1):e._e(),e._v(" "),e.shouldRenderAiGenie?t("ai-genie",{staticClass:"gl-ml-7",attrs:{"container-selector":".file-content","file-path":e.path}}):e._e()],1)}),[],!1,null,null,null);t.a=U.exports},lOtA:function(e,t,n){"use strict";n("eJ0a");var i=n("P/Kr"),r=n.n(i),a=n("Tmea"),o=n.n(a),s=(n("LdIe"),n("z6RN"),n("PTOk"),n("dHQd"),n("yoDG"),n("KeS/"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("rIA9"),n("MViX"),n("zglm"),n("GDOA"),n("hlbI"),n("a0mT"),n("u3H1"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("7dtT"),n("Rhav"),n("uhEP"),n("eppl"),n("v2fZ"),n("Lzak")),l=n("s1D3"),d=n("crTv"),c=n("yi8e"),u=n("/lV4"),h=n("yPtd"),p=n("0a87"),m=n("HFsG");n("3UXl"),n("iyoE");function f(e){return e.map((function(e){return{text:e.name,value:e.value||e.name,protected:e.protected,default:e.default}}))}var g={name:"RefSelector",components:{GlBadge:s.a,GlIcon:l.a,GlCollapsibleListbox:d.a,ProtectedBadge:h.a},inheritAttrs:!1,props:{disabled:{type:Boolean,required:!1,default:!1},enabledRefTypes:{type:Array,required:!1,default:function(){return p.a},validator:function(e){return r()(e)&&e.length>0&&e.every((function(e){return p.a.includes(e)}))&&e.length===new Set(e).size}},value:{type:String,required:!1,default:""},queryParams:{type:Object,required:!1,default:function(){}},projectId:{type:String,required:!0},translations:{type:Object,required:!1,default:function(){return{}}},useSymbolicRefNames:{type:Boolean,required:!1,default:!1},state:{type:Boolean,required:!1,default:!0},name:{type:String,required:!1,default:""},toggleButtonClass:{type:[String,Object,Array],required:!1,default:null}},data:()=>({query:""}),computed:{...Object(c.f)({matches:function(e){return e.matches},lastQuery:function(e){return e.query},selectedRef:function(e){return e.selectedRef},params:function(e){return e.params}}),...Object(c.d)(["isLoading","isQueryPossiblyASha"]),i18n(){return{...p.d,...this.translations}},listBoxItems(){return function(e,t,n){const i=[],r=function(e,t){e&&e.length>0&&i.push({text:t,options:f(e)})};return r(e,p.d.branches),r(t,p.d.tags),r(n,p.d.commits),i}(this.branches,this.tags,this.commits)},branches(){return this.enabledRefTypes.includes(p.e)?this.matches.branches.list:[]},tags(){return this.enabledRefTypes.includes(p.h)?this.matches.tags.list:[]},commits(){return this.enabledRefTypes.includes(p.f)?this.matches.commits.list:[]},extendedToggleButtonClass(){const e=[{"!gl-shadow-inner-1-red-500":!this.state,"gl-font-monospace":Boolean(this.selectedRef)},"gl-mb-0"];return Array.isArray(this.toggleButtonClass)?e.push(...this.toggleButtonClass):e.push(this.toggleButtonClass),e},footerSlotProps(){return{isLoading:this.isLoading,matches:this.matches,query:this.lastQuery}},errors(){return function(e,t,n){const i=[];return e&&e.error&&i.push(p.d.branchesErrorMessage),t&&t.error&&i.push(p.d.tagsErrorMessage),n&&n.error&&i.push(p.d.commitsErrorMessage),i}(this.matches.branches,this.matches.tags,this.matches.commits)},selectedRefForDisplay(){return this.useSymbolicRefNames&&this.selectedRef?this.selectedRef.replace(/^refs\/(tags|heads)\//,""):this.selectedRef},buttonText(){return this.selectedRefForDisplay||this.i18n.noRefSelected},noResultsMessage(){return this.lastQuery?Object(u.sprintf)(this.i18n.noResultsWithQuery,{query:this.lastQuery}):this.i18n.noResults},dropdownIcon(){let e;return this.selectedRef.includes("refs/"+p.j)?e=p.k:this.selectedRef.includes("refs/"+p.b)&&(e=p.c),e}},watch:{value:{immediate:!0,handler(){this.value!==this.selectedRef&&this.setSelectedRef(this.value)}}},beforeCreate(){this.$store=Object(m.b)()},created(){var e=this;this.debouncedSearch=o()(this.search,p.i),this.setProjectId(this.projectId),this.setParams(this.queryParams),this.$watch("enabledRefTypes",(function(){e.setEnabledRefTypes(e.enabledRefTypes),e.search()}),{immediate:!0}),this.$watch("useSymbolicRefNames",(function(){return e.setUseSymbolicRefNames(e.useSymbolicRefNames)}),{immediate:!0})},methods:{...Object(c.c)(["setEnabledRefTypes","setUseSymbolicRefNames","setParams","setProjectId","setSelectedRef"]),...Object(c.c)({storeSearch:"search"}),onSearchBoxInput(e=""){this.query=null==e?void 0:e.trim(),this.debouncedSearch()},selectRef(e){this.disabled||(this.setSelectedRef(e),this.$emit("input",this.selectedRef))},search(){this.storeSearch(this.query)},totalCountText(e){return e>999?this.i18n.totalCountLabel:""+e}}},b=n("tBpV"),v=Object(b.a)(g,(function(){var e=this,t=e._self._c;return t("div",[t("gl-collapsible-listbox",e._g(e._b({staticClass:"ref-selector gl-w-full",attrs:{block:"",searchable:"",selected:e.selectedRef,"header-text":e.i18n.dropdownHeader,items:e.listBoxItems,"no-results-text":e.noResultsMessage,searching:e.isLoading,"search-placeholder":e.i18n.searchPlaceholder,"toggle-class":e.extendedToggleButtonClass,"toggle-text":e.buttonText,icon:e.dropdownIcon,disabled:e.disabled},on:{hidden:function(t){return e.$emit("hide")},search:e.onSearchBoxInput,select:e.selectRef},scopedSlots:e._u([{key:"group-label",fn:function({group:n}){return[e._v("\n      "+e._s(n.text)+" "),t("gl-badge",[e._v(e._s(e.totalCountText(n.options.length)))])]}},{key:"list-item",fn:function({item:n}){return[e._v("\n      "+e._s(n.text)+"\n      "),n.default?t("gl-badge",{attrs:{variant:"info"}},[e._v(e._s(e.i18n.defaultLabelText))]):e._e(),e._v(" "),n.protected?t("protected-badge"):e._e()]}},{key:"footer",fn:function(){return[e._t("footer",null,null,e.footerSlotProps),e._v(" "),e._l(e.errors,(function(n){return t("div",{key:n,staticClass:"gl-mx-4 gl-my-3 gl-flex gl-items-start gl-text-danger",attrs:{"data-testid":"red-selector-error-list"}},[t("gl-icon",{staticClass:"gl-mr-2 gl-mt-2 gl-shrink-0",attrs:{name:"error"}}),e._v(" "),t("span",[e._v(e._s(n))])],1)}))]},proxy:!0}],null,!0)},"gl-collapsible-listbox",e.$attrs,!1),e.$listeners)),e._v(" "),e.name?t("input",{attrs:{"data-testid":"selected-ref-form-field",type:"hidden",name:e.name},domProps:{value:e.selectedRef}}):e._e()],1)}),[],!1,null,null,null);t.a=v.exports},lnTC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("ZzK0"),n("z6RN"),n("BzOf");const i=function({mark:e,measures:t=[]}={}){window.requestAnimationFrame((function(){e&&!performance.getEntriesByName(e).length&&performance.mark(e),t.forEach((function(e){performance.measure(e.name,e.start,e.end)}))}))}},ltZm:function(e,t,n){var i=n("q2HD"),r=n("wJPF"),a=n("Uc6l"),o=a&&a.isRegExp,s=o?r(o):i;e.exports=s},m4yQ:function(e,t,n){"use strict";n.r(t);n("byxs");var i=n("ewH8"),r=n("GiFX"),a=n("Ly6N"),o=n("NmEs"),s=n("3twG"),l=n("Pyc4"),d=n("5v28");i.default.use(r.b);const c=new r.b({defaultClient:Object(d.b)()});t.default=function({el:e,router:t}){if(!e)return;const{projectPath:n,ref:r,isBlob:d,webIdeUrl:u,showGitpodButton:h,gitpodEnabled:p,...m}=Object(o.h)(JSON.parse(e.dataset.options)),{cssClasses:f,defaultBranch:g}=e.dataset;new i.default({el:e,router:t,apolloProvider:c,provide:{projectPath:n,...Object(a.a)(m)},render(e){var t;return e(l.default,{props:{isBlob:d,webIdeUrl:d?u:Object(s.V)(Object(s.A)("/",n,"edit",r||g,"-",(null===(t=this.$route)||void 0===t?void 0:t.params.path)||"","/")),projectPath:n,isGitpodEnabledForInstance:Object(o.K)(h),isGitpodEnabledForUser:Object(o.K)(p),cssClasses:f,...m,gitRef:r}})}})}},mEyd:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProjectPathLocksFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathLocks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"destroyPathLock"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:228}};n.loc.source={body:"fragment ProjectPathLocksFragment on Project {\n  id\n  pathLocks {\n    nodes {\n      id\n      path\n      user {\n        id\n        username\n        name\n      }\n      userPermissions {\n        destroyPathLock\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ProjectPathLocksFragment=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ProjectPathLocksFragment")},mqRG:function(e,t,n){var i=n("tIEw")("length");e.exports=i},o5TZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkProject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query getPermissions($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    id\n    __typename\n    userPermissions {\n      __typename\n      pushCode\n      forkProject\n      createMergeRequestIn\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getPermissions=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getPermissions")},q2HD:function(e,t,n){var i=n("XpzN"),r=n("QA6A");e.exports=function(e){return r(e)&&"[object RegExp]"==i(e)}},t8rf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("ZzK0"),n("z6RN"),n("BzOf");var i=n("3twG");const r=function(e,t){document.querySelectorAll(e).forEach((function(e){return e.classList.toggle("hidden",!t)}))},a=function(e,t,n){const r=document.querySelector(e);r&&(r.action=Object(i.A)(t,n))}},tsC0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i=n("ewH8").default.observable({currentLineNumber:null}),r=function(e){i.currentLineNumber=e}},uQq6:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"r",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return h})),n.d(t,"p",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"t",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"o",(function(){return w})),n.d(t,"n",(function(){return _})),n.d(t,"g",(function(){return S}));var i=n("/lV4");const r="unavailable",a=1e3,o=100,s=25,l=52,d=72,c=Object(i.__)("An error occurred while fetching commit data."),u=1e7,h=50,p=150,m={userPermissions:{pushCode:!1,downloadCode:!1,createMergeRequestIn:!1,forkProject:!1},pathLocks:{nodes:[]},repository:{empty:!0,blobs:{nodes:[{name:"",size:"",rawTextBlob:"",type:"",fileType:"",tooLarge:!1,path:"",editBlobPath:"",gitpodBlobUrl:"",ideEditPath:"",forkAndEditPath:"",ideForkAndEditPath:"",codeNavigationPath:"",projectBlobPathRoot:"",forkAndViewPath:"",storedExternally:!1,externalStorage:"",environmentFormattedExternalUrl:"",environmentExternalUrlForRouteMap:"",canModifyBlob:!1,canCurrentUserPushToBranch:!1,archived:!1,rawPath:"",externalStorageUrl:"",replacePath:"",pipelineEditorPath:"",deletePath:"",simpleViewer:{},richViewer:null,webPath:""}]}}},f="text",g="empty",b="lfs",v=["podfile","podspec","cartfile","requirements_txt","cargo_toml","go_mod"],k={generalError:Object(i.__)("An error occurred while fetching folder content."),gitalyError:Object(i.__)("Error: Gitaly is unavailable. Contact your administrator.")},y=3e5,w=2500,_=2,S="fork:updated"},"v+Mp":function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_MOUSETRAP_DATA_KEY",(function(){return b})),n.d(t,"default",(function(){return k}));var i=n("8Doe"),r=n.n(i),a=(n("B++/"),n("z6RN"),n("47t/"),n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("dHQd"),n("yoDG"),n("KeS/"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("rIA9"),n("MViX"),n("zglm"),n("GDOA"),n("hlbI"),n("a0mT"),n("u3H1"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("7dtT"),n("Rhav"),n("uhEP"),n("eppl"),n("ZzK0"),n("BzOf"),n("EmJ/")),o=n.n(a),s=n("ewH8"),l=n("ygVz"),d=n("C83f"),c=n("O6Bj"),u=n("NmEs"),h=n("1OWu"),p=n("yQ8t"),m=n("3twG"),f=n("d08M"),g=n("wQDE");const b="local-mousetrap-instance";function v(e){const t=e.closest(".md-area").find(".js-md"),n=new Map;return t.each((function(){const e=o()(this),t=e.data("md-shortcuts");null!=t&&t.length&&n.set(e,t)})),n}class k{constructor(){var e;this.extensions=new Map,this.onToggleHelp=this.onToggleHelp.bind(this),this.helpModalElement=null,this.helpModalVueInstance=null,this.addAll([[f.vb,this.onToggleHelp],[f.sb,k.focusSearchFile],[f.rb,k.focusSearch],[f.d,this.focusFilter.bind(this)],[f.xb,k.onTogglePerfBar],[f.E,k.hideAppearingContent],[f.ub,k.onToggleCanary],[f.D,function(){return Object(p.a)(".shortcuts-todos")}],[f.e,function(){return Object(p.a)(".dashboard-shortcuts-activity")}],[f.y,function(){return Object(p.a)(".dashboard-shortcuts-issues")}],[f.z,function(){return Object(p.a)(".dashboard-shortcuts-merge_requests, .js-merge-request-dashboard-shortcut")}],[f.B,function(){return Object(p.a)(".dashboard-shortcuts-review_requests, .js-merge-request-dashboard-shortcut")}],[f.A,function(){return Object(p.a)(".dashboard-shortcuts-projects")}],[f.x,function(){return Object(p.a)(".dashboard-shortcuts-groups")}],[f.f,function(){return Object(p.a)(".dashboard-shortcuts-milestones")}],[f.C,function(){return Object(p.a)(".dashboard-shortcuts-snippets")}],[f.wb,k.toggleMarkdownPreview]]),Object(c.c)((function(e,t,n){return!Object(f.Bb)(f.wb).includes(n)&&void 0})),null!==(e=gon)&&void 0!==e&&null!==(e=e.features)&&void 0!==e&&e.findAndReplace&&(this.add(f.c,k.toggleFindAndReplaceBar),Object(c.c)((function(e,t,n){return!Object(f.Bb)(f.c).includes(n)&&void 0}))),o()(document).on("click",".js-shortcuts-modal-trigger",this.onToggleHelp),Object(g.b)()&&Object(g.a)(),this.filterSelectors=["input[type=search]:not(#diff-tree-search)",".gl-filtered-search-term-input",".filtered-search"]}addExtension(e,t=[],n=new Set){n.add(e);let i=this.extensions.get(e);if(!i){for(const t of null!==(r=e.dependencies)&&void 0!==r?r:[]){var r;n.has(t)||t===k||(n.add(t),this.addExtension(t,[],n))}i=new e(this,...t),this.extensions.set(e,i)}return n.delete(e),i}add(e,t){c.b.bind(Object(f.Bb)(e),t)}addAll(e){var t=this;e.forEach((function(e){return t.add(...e)}))}onToggleHelp(e){var t=this;null!=e&&e.preventDefault&&e.preventDefault(),this.helpModalElement&&this.helpModalVueInstance?(this.helpModalVueInstance.$destroy(),this.helpModalElement.remove(),this.helpModalElement=null,this.helpModalVueInstance=null):(this.helpModalElement=document.createElement("div"),document.body.append(this.helpModalElement),this.helpModalVueInstance=new s.default({el:this.helpModalElement,components:{ShortcutsHelp:function(){return Promise.all([n.e(175),n.e(328),n.e(1322),n.e(1381)]).then(n.bind(null,"exIq"))}},render:function(e){return e("shortcuts-help",{on:{hidden:t.onToggleHelp}})}}))}static onTogglePerfBar(e){e.preventDefault();Object(u.K)(Object(u.l)("perf_bar_enabled"))?Object(u.S)("perf_bar_enabled","false",{path:"/"}):Object(u.S)("perf_bar_enabled","true",{path:"/"}),Object(m.G)()}static onToggleCanary(e){e.preventDefault();const t=Object(u.K)(Object(u.l)("gitlab_canary"));Object(u.S)("gitlab_canary",(!t).toString(),{expires:365,path:"/"}),Object(m.G)()}static toggleMarkdownPreview(e){o()(document).triggerHandler("markdown-preview:toggle",[e])}static toggleFindAndReplaceBar(e){o()(document).triggerHandler("markdown-editor:find-and-replace",[e])}focusFilter(e){const t=document.querySelectorAll(this.filterSelectors.join(",")),n=Array.from(t).find((function(e){return e.offsetParent}));null==n||n.focus(),e.preventDefault()}static focusSearch(e){var t;null===(t=document.querySelector("#super-sidebar-search"))||void 0===t||t.click(),l.a.trackEvent("press_keyboard_shortcut_to_activate_command_palette"),e.preventDefault&&e.preventDefault()}static async focusSearchFile(e){var t,n;null!=e&&e.key&&l.a.trackEvent(d.f),null==e||e.preventDefault(),null===(t=document.querySelector("#super-sidebar-search"))||void 0===t||t.click();const i=await Object(h.m)("#super-sidebar-search-modal #search");if(!i)return;const r=null===(n=document.querySelector(".js-repo-breadcrumbs"))||void 0===n?void 0:n.dataset.currentPath;i.value="~"+(r?r+"/":""),i.dispatchEvent(new Event("input"))}static hideAppearingContent(e){document.querySelectorAll(".tooltip, .popover").forEach((function(e){e.style.display="none"})),e.preventDefault&&e.preventDefault()}static initMarkdownEditorShortcuts(e,t){const n=v(e),i=new c.b(e[0]);e.data(b,i),n.forEach((function(e,n){i.bind(e,(function(e){e.preventDefault(),t(n)}))}));const a=r()([...n.values()]),o=c.b.prototype.stopCallback;i.stopCallback=function(e,t,n){return!a.includes(n)&&o.call(this,e,t,n)}}static removeMarkdownEditorShortcuts(e){const t=e.data(b);t&&v(e).forEach((function(e){t.unbind(e)}))}}},voGz:function(e,t,n){var i=n("zx4+");e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}},x5Io:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));n("byxs");var i=n("ewH8"),r=n("NmEs"),a=n("QJd2"),o=n("FIKT"),s=n.n(o),l=n("h6C7"),d=n.n(l),c=n("4lAS"),u=n("lHJB"),h=n("/lV4"),p=n("v+Mp"),m=n("wQDE"),f=n("d08M"),g=n("D+x4"),b=n("ygVz"),v=n("C83f"),k=n("3twG"),y=n("FxFN"),w=n("sHIo"),_=n("2o4f"),S=n("lOtA"),P=n("SXCz"),j=n("HCGv"),N=n("Bo17"),E=n("XiQx");const T={dropdownLabel:Object(h.__)("Actions"),compare:Object(h.__)("Compare")};var O={i18n:T,components:{GlDisclosureDropdown:N.a,GlDisclosureDropdownItem:E.b},directives:{GlTooltipDirective:u.a},inject:["comparePath"],computed:{compareItem(){return{text:T.compare,href:this.comparePath,extraAttrs:{"data-testid":"tree-compare-control",rel:"nofollow"}}}}},B=n("tBpV"),C=Object(B.a)(O,(function(){var e=this._self._c;return e("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip-directive",rawName:"v-gl-tooltip-directive",value:this.$options.i18n.dropdownLabel,expression:"$options.i18n.dropdownLabel"}],attrs:{"no-caret":"",icon:"ellipsis_v","data-testid":"repository-overflow-menu",placement:"bottom-end",category:"tertiary","toggle-text":this.$options.i18n.dropdownLabel,"text-sr-only":""}},[this.comparePath?e("gl-disclosure-dropdown-item",{staticClass:"shortcuts-compare",attrs:{item:this.compareItem}}):this._e()],1)}),[],!1,null,null,null).exports,F=n("y2bm"),x=n("4Lh3"),I=n("EDmd"),R=n("o4PY"),L=n.n(R),D=(n("UezY"),n("z6RN"),n("hG7+"),n("Mq5L")),A=n("GuZl"),M=n("o5TZ"),q=n.n(M),U=n("CSd6"),V=n("Ny1i"),$={components:{GlDisclosureDropdown:N.a,UploadBlobModal:U.a,NewDirectoryModal:V.a},directives:{GlModal:D.a},props:{currentPath:{type:String,required:!1,default:""},canEditTree:{type:Boolean,required:!1,default:!1},canCollaborate:{type:Boolean,required:!1,default:!1},newBlobPath:{type:String,required:!1,default:null},forkNewBlobPath:{type:String,required:!1,default:null},forkNewDirectoryPath:{type:String,required:!1,default:null},forkUploadBlobPath:{type:String,required:!1,default:null},newBranchPath:{type:String,required:!1,default:null},newTagPath:{type:String,required:!1,default:null},uploadPath:{type:String,required:!1,default:""},newDirPath:{type:String,required:!1,default:""},selectedBranch:{type:String,required:!1,default:""},originalBranch:{type:String,required:!1,default:""},canPushCode:{type:Boolean,required:!1,default:!1},canPushToBranch:{type:Boolean,required:!1,default:!1}},apollo:{projectPath:{query:d.a},userPermissions:{query:q.a,variables(){return{projectPath:this.projectPath}},update:function(e){var t;return null===(t=e.project)||void 0===t?void 0:t.userPermissions}}},data:()=>({projectPath:"",userPermissions:{}}),computed:{uploadBlobModalId:()=>L()("modal-upload-blob"),newDirectoryModalId:()=>L()("modal-new-directory"),canCreateMrFromFork(){var e,t;return(null===(e=this.userPermissions)||void 0===e?void 0:e.forkProject)&&(null===(t=this.userPermissions)||void 0===t?void 0:t.createMergeRequestIn)},hasPushCodePermission(){var e;return null===(e=this.userPermissions)||void 0===e?void 0:e.pushCode},dropdownDirectoryItems(){var e=this;return this.canEditTree?[{text:Object(h.s__)("Repository|New file"),href:Object(k.A)(this.newBlobPath,this.currentPath?encodeURIComponent(this.currentPath):""),extraAttrs:{"data-testid":"new-file-menu-item"}},{text:Object(h.s__)("Repository|Upload file"),action:function(){return e.$root.$emit(A.c,e.uploadBlobModalId)}},{text:Object(h.s__)("Repository|New directory"),action:function(){return e.$root.$emit(A.c,e.newDirectoryModalId)}}]:this.canCreateMrFromFork?[{text:Object(h.s__)("Repository|New file"),href:this.forkNewBlobPath,extraAttrs:{"data-method":"post"}},{text:Object(h.s__)("Repository|Upload file"),href:this.forkUploadBlobPath,extraAttrs:{"data-method":"post"}},{text:Object(h.s__)("Repository|New directory"),href:this.forkNewDirectoryPath,extraAttrs:{"data-method":"post"}}]:[]},dropdownRepositoryItems(){return this.hasPushCodePermission?[{text:Object(h.s__)("Repository|New branch"),href:this.newBranchPath},{text:Object(h.s__)("Repository|New tag"),href:this.newTagPath}]:[]},dropdownItems(){var e,t;return this.canCollaborate||this.canCreateMrFromFork?[(null===(e=this.dropdownDirectoryItems)||void 0===e?void 0:e.length)&&{name:Object(h.s__)("Repository|This directory"),items:this.dropdownDirectoryItems},(null===(t=this.dropdownRepositoryItems)||void 0===t?void 0:t.length)&&{name:Object(h.s__)("Repository|This repository"),items:this.dropdownRepositoryItems}].filter(Boolean):[]},renderAddToTreeDropdown(){return this.dropdownItems.length},showUploadModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},showNewDirectoryModal(){return this.canEditTree&&!this.$apollo.queries.userPermissions.loading},newDirectoryPath(){return Object(k.A)(this.newDirPath,this.currentPath)}}},G=Object(B.a)($,(function(){var e=this,t=e._self._c;return t("div",[e.renderAddToTreeDropdown?t("gl-disclosure-dropdown",{attrs:{"toggle-text":e.__("Add to tree"),"toggle-class":"add-to-tree","data-testid":"add-to-tree","text-sr-only":"",icon:"plus",items:e.dropdownItems}}):e._e(),e._v(" "),e.showUploadModal?t("upload-blob-modal",{attrs:{"modal-id":e.uploadBlobModalId,"commit-message":e.__("Upload New File"),"target-branch":e.selectedBranch,"original-branch":e.originalBranch,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,path:e.uploadPath}}):e._e(),e._v(" "),e.showNewDirectoryModal?t("new-directory-modal",{attrs:{"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"modal-id":e.newDirectoryModalId,"target-branch":e.selectedBranch,"original-branch":e.originalBranch,path:e.newDirectoryPath}}):e._e()],1)}),[],!1,null,null,null).exports,H=n("9dZE"),z={name:"HeaderArea",i18n:{compare:Object(h.__)("Compare"),findFile:Object(h.__)("Find file")},components:{GlButton:c.a,FileIcon:H.a,RefSelector:S.a,Breadcrumbs:P.a,RepositoryOverflowMenu:C,BlobControls:j.a,CodeDropdown:F.a,CompactCodeDropdown:function(){return n.e(1364).then(n.bind(null,"9YHj"))},SourceCodeDownloadDropdown:x.a,CloneCodeDropdown:I.a,AddToTree:G,WebIdeLink:function(){return Promise.resolve().then(n.bind(null,"Pyc4"))},LockDirectoryButton:function(){return n.e(1366).then(n.bind(null,"YBhy"))}},directives:{GlTooltip:u.a},mixins:[Object(w.a)()],inject:["canCollaborate","canEditTree","canPushCode","canPushToBranch","originalBranch","selectedBranch","newBranchPath","newTagPath","newBlobPath","forkNewBlobPath","forkNewDirectoryPath","forkUploadBlobPath","uploadPath","newDirPath","projectRootPath","comparePath","isReadmeView","isFork","needsToFork","isGitpodEnabledForUser","isBlob","showEditButton","showWebIdeButton","isGitpodEnabledForInstance","showPipelineEditorUrl","webIdeUrl","editUrl","pipelineEditorUrl","gitpodUrl","userPreferencesGitpodPath","userProfileEnableGitpodPath","httpUrl","xcodeUrl","sshUrl","kerberosUrl","downloadLinks","downloadArtifacts","isBinary","rootRef"],provide(){return{currentRef:this.currentRef}},props:{projectPath:{type:String,required:!0},refType:{type:String,required:!1,default:null},currentRef:{type:String,required:!1,default:null},projectId:{type:String,required:!0}},computed:{isTreeView(){return"blobPathDecoded"!==this.$route.name},isProjectOverview(){return"projectRoot"===this.$route.name},isRoot(){return!this.currentPath||"/"===this.currentPath},directoryName(){return this.currentPath?this.currentPath.split("/").pop():this.projectPath.split("/").pop()},fileIconName(){return this.isTreeView?"folder-open":this.directoryName},getRefType(){return this.$route.query.ref_type},currentPath(){return this.$route.params.path},refSelectorQueryParams:()=>({sort:"updated_desc"}),refSelectorValue(){return this.refType?Object(k.A)("refs",this.refType,this.currentRef):this.currentRef},webIDEUrl(){var e;return this.isBlob?this.webIdeUrl:Object(k.V)(Object(k.A)("/",this.projectPath,"edit",this.currentRef,"-",(null===(e=this.$route)||void 0===e?void 0:e.params.path)||"","/"))},projectIdAsNumber(){return Object(y.f)(this.projectId)},findFileTooltip(){const{description:e}=f.sb,t=this.findFileShortcutKey;return Object(m.b)()?null:Object(g.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`)},findFileShortcutKey:()=>Object(f.Bb)(f.sb)[0],showCompactCodeDropdown(){return this.glFeatures.directoryCodeDropdownUpdates}},methods:{onInput(e){b.a.trackEvent(v.m),Object(k.T)(Object(_.a)(this.projectRootPath,this.originalBranch,e))},handleFindFile(){b.a.trackEvent(v.e),p.default.focusSearchFile()}}},W=Object(B.a)(z,(function(){var e=this,t=e._self._c;return t("section",{class:{"gl-items-center gl-justify-between sm:gl-flex":e.isProjectOverview}},[t("div",{staticClass:"tree-ref-container mb-2 mb-md-0 gl-flex gl-flex-wrap gl-gap-5"},[e.isReadmeView?e._e():t("ref-selector",{staticClass:"tree-ref-holder gl-max-w-26",attrs:{"data-testid":"ref-dropdown-container","project-id":e.projectId,value:e.refSelectorValue,"use-symbolic-ref-names":"","query-params":e.refSelectorQueryParams},on:{input:e.onInput}}),e._v(" "),e.isReadmeView?e._e():t("breadcrumbs",{staticClass:"js-repo-breadcrumbs",attrs:{"current-path":e.currentPath,"ref-type":e.getRefType,"can-collaborate":e.canCollaborate,"can-edit-tree":e.canEditTree,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"original-branch":e.originalBranch,"selected-branch":e.selectedBranch,"new-branch-path":e.newBranchPath,"new-tag-path":e.newTagPath,"new-blob-path":e.newBlobPath,"fork-new-blob-path":e.forkNewBlobPath,"fork-new-directory-path":e.forkNewDirectoryPath,"fork-upload-blob-path":e.forkUploadBlobPath,"upload-path":e.uploadPath,"new-dir-path":e.newDirPath}})],1),e._v(" "),t("div",{staticClass:"gl-flex gl-flex-col gl-items-stretch gl-justify-end sm:gl-flex-row sm:gl-items-center sm:gl-gap-5",class:{"gl-my-5":!e.isProjectOverview}},[e.isReadmeView||e.isProjectOverview?e._e():t("h1",{staticClass:"gl-mt-0 gl-flex-1 gl-break-words gl-text-size-h1 sm:gl-my-0",attrs:{"data-testid":"repository-heading"}},[t("file-icon",{staticClass:"gl-mr-3 gl-inline-flex",class:{"gl-text-subtle":e.isTreeView},attrs:{"file-name":e.fileIconName,folder:e.isTreeView,opened:"","aria-hidden":"true"}}),e._v(e._s(e.directoryName)+"\n    ")],1),e._v(" "),e.isTreeView?t("div",{staticClass:"tree-controls gl-mb-3 gl-flex gl-flex-wrap gl-gap-3 sm:gl-mb-0"},[!e.isReadmeView&&e.showCompactCodeDropdown?t("add-to-tree",{staticClass:"gl-hidden sm:gl-block",attrs:{"current-path":e.currentPath,"can-collaborate":e.canCollaborate,"can-edit-tree":e.canEditTree,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"original-branch":e.originalBranch,"selected-branch":e.selectedBranch,"new-branch-path":e.newBranchPath,"new-tag-path":e.newTagPath,"new-blob-path":e.newBlobPath,"fork-new-blob-path":e.forkNewBlobPath,"fork-new-directory-path":e.forkNewDirectoryPath,"fork-upload-blob-path":e.forkUploadBlobPath,"upload-path":e.uploadPath,"new-dir-path":e.newDirPath}}):e._e(),e._v(" "),e.isRoot?e._e():t("lock-directory-button",{attrs:{"project-path":e.projectPath,path:e.currentPath}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.html",value:e.findFileTooltip,expression:"findFileTooltip",modifiers:{html:!0}}],staticClass:"gl-w-full sm:gl-w-auto",attrs:{"aria-keyshortcuts":e.findFileShortcutKey,"data-testid":"tree-find-file-control"},on:{click:e.handleFindFile}},[e._v("\n        "+e._s(e.$options.i18n.findFile)+"\n      ")]),e._v(" "),t("web-ide-link",e._g({staticClass:"gl-w-full sm:!gl-ml-0 sm:gl-w-auto",attrs:{"data-testid":"js-tree-web-ide-link","project-id":e.projectIdAsNumber,"project-path":e.projectPath,"is-fork":e.isFork,"needs-to-fork":e.needsToFork,"is-gitpod-enabled-for-user":e.isGitpodEnabledForUser,"is-blob":e.isBlob,"show-edit-button":e.showEditButton,"show-web-ide-button":e.showWebIdeButton,"is-gitpod-enabled-for-instance":e.isGitpodEnabledForInstance,"show-pipeline-editor-url":e.showPipelineEditorUrl,"web-ide-url":e.webIDEUrl,"edit-url":e.editUrl,"pipeline-editor-url":e.pipelineEditorUrl,"gitpod-url":e.gitpodUrl,"user-preferences-gitpod-path":e.userPreferencesGitpodPath,"user-profile-enable-gitpod-path":e.userProfileEnableGitpodPath,"git-ref":e.currentRef,"disable-fork-modal":""}},e.$listeners)),e._v(" "),e.isReadmeView?e._e():t("div",{staticClass:"project-code-holder gl-w-full sm:gl-w-auto"},[e.showCompactCodeDropdown?t("div",{staticClass:"gl-flex gl-justify-end gl-gap-3"},[e.isReadmeView?e._e():t("add-to-tree",{staticClass:"sm:gl-hidden",attrs:{"current-path":e.currentPath,"can-collaborate":e.canCollaborate,"can-edit-tree":e.canEditTree,"can-push-code":e.canPushCode,"can-push-to-branch":e.canPushToBranch,"original-branch":e.originalBranch,"selected-branch":e.selectedBranch,"new-branch-path":e.newBranchPath,"new-tag-path":e.newTagPath,"new-blob-path":e.newBlobPath,"fork-new-blob-path":e.forkNewBlobPath,"fork-new-directory-path":e.forkNewDirectoryPath,"fork-upload-blob-path":e.forkUploadBlobPath,"upload-path":e.uploadPath,"new-dir-path":e.newDirPath}}),e._v(" "),t("compact-code-dropdown",{staticClass:"gl-ml-auto",attrs:{"ssh-url":e.sshUrl,"http-url":e.httpUrl,"kerberos-url":e.kerberosUrl,"xcode-url":e.xcodeUrl,"web-ide-url":e.webIDEUrl,"gitpod-url":e.gitpodUrl,"current-path":e.currentPath,"directory-download-links":e.downloadLinks,"project-id":e.projectId,"project-path":e.projectPath,"show-web-ide-button":e.showWebIdeButton,"show-gitpod-button":e.isGitpodEnabledForInstance}}),e._v(" "),e.comparePath?t("repository-overflow-menu"):e._e()],1):[t("code-dropdown",{staticClass:"git-clone-holder js-git-clone-holder gl-hidden sm:gl-inline-block",attrs:{"ssh-url":e.sshUrl,"http-url":e.httpUrl,"kerberos-url":e.kerberosUrl,"xcode-url":e.xcodeUrl,"current-path":e.currentPath,"directory-download-links":e.downloadLinks}}),e._v(" "),t("div",{staticClass:"gl-flex gl-items-stretch gl-gap-3 sm:gl-hidden"},[t("source-code-download-dropdown",{attrs:{"download-links":e.downloadLinks,"download-artifacts":e.downloadArtifacts}}),e._v(" "),t("clone-code-dropdown",{staticClass:"mobile-git-clone js-git-clone-holder !gl-w-full",attrs:{"ssh-url":e.sshUrl,"http-url":e.httpUrl,"kerberos-url":e.kerberosUrl}}),e._v(" "),e.comparePath?t("repository-overflow-menu"):e._e()],1)]],2),e._v(" "),e.comparePath&&!e.showCompactCodeDropdown?t("repository-overflow-menu",{staticClass:"gl-hidden sm:gl-inline-flex"}):e._e()],1):e._e(),e._v(" "),t("blob-controls",{attrs:{"project-path":e.projectPath,"project-id-as-number":e.projectIdAsNumber,"ref-type":e.getRefType,"is-binary":e.isBinary}})],1)])}),[],!1,null,null,null).exports,Q=n("htAy"),K=n("f/vg"),X=n.n(K);function Z({router:e,isReadmeView:t=!1,isBlobView:n=!1}){const o=document.getElementById("js-repository-blob-header-app");if(o){const{ref:l,escapedRef:c,refType:u,rootRef:h,projectId:p,breadcrumbsCanCollaborate:m,breadcrumbsCanEditTree:f,breadcrumbsCanPushCode:g,breadcrumbsCanPushToBranch:b,breadcrumbsSelectedBranch:v,breadcrumbsNewBranchPath:k,breadcrumbsNewTagPath:y,breadcrumbsNewBlobPath:w,breadcrumbsForkNewBlobPath:_,breadcrumbsForkNewDirectoryPath:S,breadcrumbsForkUploadBlobPath:P,breadcrumbsUploadPath:j,breadcrumbsNewDirPath:N,projectRootPath:E,comparePath:T,projectPath:O,webIdeButtonOptions:B,sshUrl:C,httpUrl:F,xcodeUrl:x,kerberosUrl:I,downloadLinks:R,downloadArtifacts:L,projectShortPath:D,isBinary:A,newWorkspacePath:M}=o.dataset,{isFork:q,needsToFork:U,gitpodEnabled:V,isBlob:$,showEditButton:G,showWebIdeButton:H,showGitpodButton:z,showPipelineEditorUrl:K,webIdeUrl:Z,editUrl:Y,pipelineEditorUrl:J,gitpodUrl:ee,userPreferencesGitpodPath:te,userProfileEnableGitpodPath:ne}=Object(r.h)(B?JSON.parse(B):{});!function({projectPath:e,projectShortPath:t,ref:n,escapedRef:i}){e&&a.a.clients.defaultClient.cache.writeQuery({query:d.a,data:{projectPath:e}}),t&&a.a.clients.defaultClient.cache.writeQuery({query:s.a,data:{projectShortPath:t}}),(n||i)&&a.a.clients.defaultClient.cache.writeQuery({query:X.a,data:{ref:n,escapedRef:i}})}({projectPath:O,projectShortPath:D,ref:l,escapedRef:c}),new i.default({el:o,provide:{canCollaborate:Object(r.K)(m),canEditTree:Object(r.K)(f),canPushCode:Object(r.K)(g),canPushToBranch:Object(r.K)(b),originalBranch:l,selectedBranch:v,newBranchPath:k,newTagPath:y,newBlobPath:w,forkNewBlobPath:_,forkNewDirectoryPath:S,forkUploadBlobPath:P,uploadPath:j,newDirPath:N,projectRootPath:E,projectShortPath:D,comparePath:T,isReadmeView:t,isFork:Object(r.K)(q),needsToFork:Object(r.K)(U),isGitpodEnabledForUser:Object(r.K)(V),isBlob:Object(r.K)($),showEditButton:Object(r.K)(G),showWebIdeButton:Object(r.K)(H),isGitpodEnabledForInstance:Object(r.K)(z),showPipelineEditorUrl:Object(r.K)(K),webIdeUrl:Z,editUrl:Y,pipelineEditorUrl:J,gitpodUrl:ee,userPreferencesGitpodPath:te,userProfileEnableGitpodPath:ne,httpUrl:F,xcodeUrl:x,sshUrl:C,kerberosUrl:I,newWorkspacePath:M,downloadLinks:R?JSON.parse(R):null,downloadArtifacts:L?JSON.parse(L):[],isBlobView:n,isBinary:Object(r.K)(A),rootRef:h},apolloProvider:a.a,router:e||Object(Q.a)(O,c),render:e=>e(W,{props:{refType:u,currentRef:l,projectPath:O,projectId:p}})})}}},y2bm:function(e,t,n){"use strict";n("UezY"),n("z6RN"),n("hG7+"),n("3UXl"),n("iyoE");var i=n("Bo17"),r=n("fSQg"),a=n("lHJB"),o=n("3twG"),s=n("/lV4"),l=n("4oYX"),d={components:{GlDisclosureDropdown:i.a,GlDisclosureDropdownGroup:r.a,CodeDropdownCloneItem:l.a},directives:{GlTooltip:a.a},props:{sshUrl:{type:String,required:!1,default:""},httpUrl:{type:String,required:!1,default:""},kerberosUrl:{type:String,required:!1,default:null},xcodeUrl:{type:String,required:!1,default:""},currentPath:{type:String,required:!1,default:null},directoryDownloadLinks:{type:Array,required:!1,default:null}},computed:{httpLabel(){var e;const t=this.httpUrl?null===(e=Object(o.m)(this.httpUrl))||void 0===e?void 0:e.toUpperCase():"";return Object(s.sprintf)(Object(s.__)("Clone with %{protocol}"),{protocol:t})},sshUrlEncoded(){return encodeURIComponent(this.sshUrl)},httpUrlEncoded(){return encodeURIComponent(this.httpUrl)},ideGroup(){const e=[Boolean(this.sshUrl)&&{text:Object(s.__)("Visual Studio Code (SSH)"),href:`${this.$options.vsCodeBaseUrl}${this.sshUrlEncoded}`},Boolean(this.httpUrl)&&{text:Object(s.__)("Visual Studio Code (HTTPS)"),href:`${this.$options.vsCodeBaseUrl}${this.httpUrlEncoded}`},Boolean(this.sshUrl)&&{text:Object(s.__)("IntelliJ IDEA (SSH)"),href:`${this.$options.jetBrainsBaseUrl}${this.sshUrlEncoded}`},Boolean(this.httpUrl)&&{text:Object(s.__)("IntelliJ IDEA (HTTPS)"),href:`${this.$options.jetBrainsBaseUrl}${this.httpUrlEncoded}`},Boolean(this.xcodeUrl)&&{text:Object(s.__)("Xcode"),href:this.xcodeUrl}].filter(Boolean);return{name:this.$options.i18n.openInIDE,items:e}},sourceCodeGroup(){const e=this.directoryDownloadLinks.map((function(e){return{text:e.text,href:e.path,extraAttrs:{rel:"nofollow",download:""}}}));return{name:this.$options.i18n.downloadSourceCode,items:e}},directoryDownloadLinksGroup(){var e=this;const t=this.directoryDownloadLinks.map((function(t){return{text:t.text,href:`${t.path}?path=${e.currentPath}`,extraAttrs:{rel:"nofollow",download:""}}}));return{name:this.$options.i18n.downloadDirectory,items:t}}},methods:{closeDropdown(){this.$refs.dropdown.close()}},vsCodeBaseUrl:"vscode://vscode.git/clone?url=",jetBrainsBaseUrl:"jetbrains://idea/checkout/git?idea.required.plugins.id=Git4Idea&checkout.repo=",i18n:{defaultLabel:Object(s.__)("Code"),cloneWithSsh:Object(s.__)("Clone with SSH"),cloneWithKerberos:Object(s.__)("Clone with KRB5"),openInIDE:Object(s.__)("Open in your IDE"),downloadSourceCode:Object(s.__)("Download source code"),downloadDirectory:Object(s.__)("Download this directory")}},c=n("LPAU"),u=n.n(c),h=n("+TTV"),p=n.n(h),m={insert:"head",singleton:!1},f=(u()(p.a,m),p.a.locals,n("tBpV")),g=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{ref:"dropdown",staticClass:"code-dropdown gl-text-left",attrs:{"toggle-text":e.$options.i18n.defaultLabel,category:"primary",variant:"confirm",placement:"bottom-end","fluid-width":"","data-testid":"code-dropdown","auto-close":!1}},[e.sshUrl?t("gl-disclosure-dropdown-group",[t("code-dropdown-clone-item",{attrs:{label:e.$options.i18n.cloneWithSsh,link:e.sshUrl,name:"ssh_project_clone","input-id":"copy-ssh-url-input","test-id":"copy-ssh-url-button"}})],1):e._e(),e._v(" "),e.httpUrl?t("gl-disclosure-dropdown-group",[t("code-dropdown-clone-item",{attrs:{label:e.httpLabel,link:e.httpUrl,name:"http_project_clone","input-id":"copy-http-url-input","test-id":"copy-http-url-button"}})],1):e._e(),e._v(" "),e.kerberosUrl?t("gl-disclosure-dropdown-group",[t("code-dropdown-clone-item",{attrs:{label:e.$options.i18n.cloneWithKerberos,link:e.kerberosUrl,name:"kerberos_project_clone","input-id":"copy-http-url-input","test-id":"copy-http-url-button"}})],1):e._e(),e._v(" "),t("gl-disclosure-dropdown-group",{attrs:{group:e.ideGroup,bordered:""},on:{action:e.closeDropdown}}),e._v(" "),e.directoryDownloadLinks?t("gl-disclosure-dropdown-group",{attrs:{group:e.sourceCodeGroup,bordered:""},on:{action:e.closeDropdown}}):e._e(),e._v(" "),e.currentPath&&e.directoryDownloadLinks?t("gl-disclosure-dropdown-group",{attrs:{group:e.directoryDownloadLinksGroup,bordered:""},on:{action:e.closeDropdown}}):e._e()],1)}),[],!1,null,null,null);t.a=g.exports},"zx4+":function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}}}]);
//# sourceMappingURL=commons-pages.projects.blob.show-pages.projects.show-pages.projects.tree.show.50892c09.chunk.js.map